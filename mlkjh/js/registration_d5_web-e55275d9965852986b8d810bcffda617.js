function run_validator(e,t){if(e){if(e.length>512)return error_message="Stream exceeds allowable length of 512.",t&&t.error?t.error(error_message):console.log(error_message),void 0;t&&t.in_progress&&t.in_progress(),t&&void 0==t.api_key&&console.log("Please pass in api_key to mailgun_validator.");var n=!1;$.getJSON("https://api:"+t.api_key+"@api.mailgun.net/v2/address/validate?callback=?",{address:e}).done(function(e){n=!0,t&&t.success&&t.success(e)}).error(function(e){n=!0,t&&t.error?t.error(e):console.log(e)}),setTimeout(function(){error_message="Interal Server Error.",n||(t&&t.error?t.error(error_message):console.log(error_message))},3e4)}}!function(e){"use strict";e.ajaxPrefilter(function(e){return e.iframe?"iframe":void 0}),e.ajaxTransport("iframe",function(t,n,s){function i(){p.prop("disabled",!1),r.remove(),o.bind("load",function(){o.remove()}),o.attr("src","javascript:false;")}var a,r=null,o=null,l="iframe-"+e.now(),u=e(t.files).filter(":file:enabled"),p=null;return t.dataTypes.shift(),u.length?(r=e("<form enctype='multipart/form-data' method='post'></form>").hide().attr({action:t.url,target:l}),"string"==typeof t.data&&t.data.length>0&&e.error("data must not be serialized"),e.each(t.data||{},function(t,n){e.isPlainObject(n)&&(t=n.name,n=n.value),e("<input type='hidden' />").attr({name:t,value:n}).appendTo(r)}),e("<input type='hidden' value='IFrame' name='X-Requested-With' />").appendTo(r),a=t.dataTypes[0]&&t.accepts[t.dataTypes[0]]?t.accepts[t.dataTypes[0]]+("*"!==t.dataTypes[0]?", */*; q=0.01":""):t.accepts["*"],e("<input type='hidden' name='X-Http-Accept'>").attr("value",a).appendTo(r),p=u.after(function(){return e(this).clone().prop("disabled",!0)}).next(),u.appendTo(r),{send:function(t,n){o=e("<iframe src='javascript:false;' name='"+l+"' id='"+l+"' style='display:none'></iframe>"),o.bind("load",function(){o.unbind("load").bind("load",function(){var e=this.contentWindow?this.contentWindow.document:this.contentDocument?this.contentDocument:this.document,t=e.documentElement?e.documentElement:e.body,a=t.getElementsByTagName("textarea")[0],r=a&&a.getAttribute("data-type")||null,o=a&&a.getAttribute("data-status")||200,l=a&&a.getAttribute("data-statusText")||"OK",u={html:t.innerHTML,text:r?a.value:t?t.textContent||t.innerText:null};i(),s.responseText||(s.responseText=u.text),n(o,l,u,r?"Content-Type: "+r:null)}),r[0].submit()}),e("body").append(r,o)},abort:function(){null!==o&&(o.unbind("load").attr("src","javascript:false;"),i())}}):void 0})}(jQuery),function(e){var t;e.remotipart=t={setup:function(n){var s=n.data("ujs:submit-button"),i=e('meta[name="csrf-param"]').attr("content"),a=e('meta[name="csrf-token"]').attr("content"),r=n.find('input[name="'+i+'"]').length;n.one("ajax:beforeSend.remotipart",function(o,l,u){return delete u.beforeSend,u.iframe=!0,u.files=e(e.rails.fileInputSelector,n),u.data=n.serializeArray(),s&&u.data.push(s),u.files.each(function(e,t){for(var n=u.data.length-1;n>=0;n--)u.data[n].name==t.name&&u.data.splice(n,1)}),u.processData=!1,void 0===u.dataType&&(u.dataType="script *"),u.data.push({name:"remotipart_submitted",value:!0}),a&&i&&!r&&u.data.push({name:i,value:a}),e.rails.fire(n,"ajax:remotipartSubmit",[l,u])&&(e.rails.ajax(u),setTimeout(function(){e.rails.disableFormElements(n)},20)),t.teardown(n),!1}).data("remotipartSubmitted",!0)},teardown:function(e){e.unbind("ajax:beforeSend.remotipart").removeData("remotipartSubmitted")}},e(document).on("ajax:aborted:file","form",function(){var n=e(this);return t.setup(n),e.rails.handleRemote(n),!1})}(jQuery),function(){var e=[].slice;window.HAML=function(){function t(){}return t.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},t.cleanValue=function(e){switch(e){case null:case void 0:return"";case!0:case!1:return""+e;default:return e}},t.extend=function(){var t,n,s,i,a,r,o;for(n=arguments[0],i=2<=arguments.length?e.call(arguments,1):[],r=0,o=i.length;o>r;r++){s=i[r];for(t in s)a=s[t],n[t]=a}return n},t.globals=function(){return{}},t.context=function(e){return this.extend({},t.globals(),e)},t.preserve=function(e){return e.replace(/\n/g,"&#x000A;")},t.findAndPreserve=function(e){var t;return t="textarea,pre".split(",").join("|"),e=e.replace(RegExp("<("+t+")>([^]*?)<\\/\\1>","g"),function(e,t,n){return"<"+t+">"+window.HAML.preserve(n)+"</"+t+">"})},t.surround=function(e,t,n){var s;return e+(null!=(s=n.call(this))?s.replace(/^\s+|\s+$/g,""):void 0)+t},t.succeed=function(e,t){var n;return(null!=(n=t.call(this))?n.replace(/\s+$/g,""):void 0)+e},t.precede=function(e,t){var n;return e+(null!=(n=t.call(this))?n.replace(/^\s+/g,""):void 0)},t}()}.call(this),function(){var e;(e=function(){return _.mixin({phoneNumber:function(e,t){return null==e&&(e=""),null==t&&(t=""),e.replace(/[ ,(,),-]+/g,"").replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3")+(t?" x"+t:"")},toSentence:function(e,t,n){var s,i,a;for(t||(t=", "),n||(n=" and "),i=e.length,a="",s=0;i>s;)a+=e[s],s===i-2?a+=n:i-1>s&&(a+=t),s++;return a},capitalize:function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()},mapValues:function(e,t){return _.chain(e).pairs().map(function(n){return n[1]=t(n[1],n[2],e),n}).object().value()},params:function(e){return""!==e?(e=e.substr(1).split("&"),e=_.map(e,function(e){return e.split("=")})):void 0},addToParams:function(e,t){var n;return""===e?"":(t=t.split("="),e=_.params(e),n=!!_.find(e,function(e){return e[0]===t[0]}),n?e=_.map(e,function(e){return e[0]===t[0]&&(e[1]=t[1]),e}):e.push(t),e=_.map(e,function(e){return e.join("=")}).join("&"),e="?"+e)},object:function(e,t){if(null==e)return{};for(var n={},s=0,i=e.length;i>s;s++)t?n[e[s]]=t[s]:n[e[s][0]]=e[s][1];return n},pairs:function(e){var t=[];for(var n in e)_.has(e,n)&&t.push([n,e[n]]);return t}})})()}.call(this),/*
 * A jQuery pagination plugin
 * Author: Gobhi Theivendran | gobhit@gmail.com
 *
 * Example usage: $('<ul>').paginate({numPages:15, startPage:7, url:'gobhi-t.com'}).appendTo('#container');
 *
 * Options:
 *  a. startPage: the default page the pagination should be at (default is 1)
 *  b. numPages: total number of pages (default is 1)
 *  c. url: url for the page links. a query string parameter 'page' will be appended with the page number
 *      i.e. http://gobhi-t.com?page=3
 *  d. lblPrevious: label for the 'previous' button (default is 'previous')
 *  e. lblNext: label for the 'next' button (default is 'next')
 *
 * Copyright 2010, Gobhi Theivendran
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 */
function(e){e.fn.paginate=function(t){if(!t)return this;if(!(t.numPages&&t.numPages>1))return this;if(t.startPage>t.numPages||t.startPage<1)return this;var n=e.extend({},e.fn.paginate.defaults,t),s=function(e){var t=e+1;return t<=n.numPages?t:null},i=function(e){var t=e-1;return t>0?t:null},a=function(t,a){var r,o,l,u,p,c,d=e("<li>"),h=e("<li>"),_=e("<li>"),m=s(a),g=i(a);t.html(""),g?h.appendTo(t).html('<a class="prev_page prev_next" href="'+n.url+'">'+n.lblPrevious+"</a>"):h.appendTo(t).html('<span style="display:none;" class="prev_page prev_next">'+n.lblPrevious+"</span>"),m?_.appendTo(t).html('<a class="next_page prev_next" href="'+n.url+'">'+n.lblNext+"</a>"):_.appendTo(t).html('<span style="display:none;" class="next_page prev_next">'+n.lblNext+"</span>"),d.insertBefore(_).html('<a class="currentPage" href="'+n.url+'">'+a+"</a>"),r=1!==a?e("<li>").insertAfter(h).html('<a class="page" href="'+n.url+'">1</a>'):d,o=a!==n.numPages?e("<li>").insertBefore(_).html('<a class="page" href="'+n.url+'">'+n.numPages+"</a>"):d,a!==n.numPages-2&&a-1>1&&(l=e("<li>").insertBefore(d).html('<a class="page" href="'+n.url+'">'+(a-1)+"</a>")),3!==a&&a+1<n.numPages&&(u=e("<li>").insertAfter(d).html('<a class="page" href="'+n.url+'">'+(a+1)+"</a>")),1===a&&n.numPages>3?c=e("<li>").insertAfter(u).html('<a class="page" href="'+n.url+'">3</a>'):a===n.numPages&&n.numPages>3&&(p=e("<li>").insertBefore(l).html('<a class="page" href="'+n.url+'">'+(n.numPages-2)+"</a>")),a!==n.numPages&&l&&a-2>1?e("<li>").insertBefore(l).html("..."):p&&a-3>1?e("<li>").insertBefore(p).html("..."):a===n.numPages-2&&a>1&&e("<li>").insertBefore(d).html("..."),1!==a&&u&&n.numPages-a-1>1?e("<li>").insertAfter(u).html("..."):c&&n.numPages-a-2>1?e("<li>").insertAfter(c).html("..."):3===a&&a<n.numPages&&e("<li>").insertAfter(d).html("...")};return this.each(function(){var t=e(this);a(t,n.startPage),e(".page",".pagination").bind("click",function(n){n.preventDefault();var r,o=e(this),l=parseInt(t.find("li a.currentPage").html(),10);o.is(".previous, .next")?o.is(".previous")?r=i(l):o.is(".next")&&(r=s(l)):r=parseInt(o.html(),10),r&&a(t,r)})})},e.fn.paginate.defaults={startPage:1,lblPrevious:"prev",lblNext:"next",url:"#",numPages:1}}(jQuery),$.fn.mailgun_validator=function(e){return this.each(function(){$(this).focusout(function(){run_validator($(this).val(),e)})})},function(){this.JST||(this.JST={}),this.JST["templates/registrations/d5_web_reg/alert_exists"]=function(e){return function(){var e;return e=[],e.push("<h2 class='blk center'>"),_.include([10,11],this.reg_source)?e.push("  Looks like you've already created an account when you signed up with Amion. <br /> Please double check the name and address."):e.push("  There's already a Doximity account associated with this name. <br /> Please doublecheck the name and address."),e.push("</h2>\n<p class='center'>\n  If this is you and already have an account, please <a href=\"/signin\">sign in</a>.\n</p>\n<p class='buttonset'>\n  <button class='blue btn close'>OK</button>\n</p>"),e.join("\n")}.call(window.HAML.context(e))}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/d5_web_reg/alert_not_me"]=function(e){return function(){var e;return e=[],e.push("<h2 class='blk'>\n  Doximity's directory is pulled from a variety of sources, including the <br /> NPI and AMA databases.\n</h2>\n<p>If you think you should be listed try searching again; claiming a profile is the easiest way to register. Or, you can register manually.</p>\n<p class='buttonset'>\n  <button class='blue btn search_again' type='button'>\n    Search Again\n  </button>\n  <button class='btn gray manual_reg' type='button' data-target='manual_reg_button'>\n    Register Manually\n  </button>\n</p>"),e.join("\n")}.call(window.HAML.context(e))}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/d5_web_reg/create_account"]=function(e){return function(){var e,t,n;return t=window.HAML.escape,e=window.HAML.cleanValue,n=[],n.push("<h1 data-rendered='create_sign_in'>\n  Create Sign-in\n</h1>\n<fieldset data-password-form=''>\n  <input name='id' type='hidden' value='"+t(e(this.user.get("id")))+"'>\n  <p>\n    <label for='account_login'>\n      <span class='col-1-3'>\n        <sup>*</sup>\n        Email Address\n      </span>\n      <span class='col-2-3'>\n        <input class='full' id='account_login' name='account[login]' tabindex='1' type='text' data-target='account_login'>\n        <!-- %em Email address will NOT be shown on your profile -->\n      </span>\n    </label>\n  </p>\n  <p>\n    <span class='label'>\n      <span class='col-1-3'>\n        <span class='multiline'>\n          <sup>*</sup>\n          Create Password\n        </span>\n      </span>\n      <span class='col-2-3'>\n        <input class='full' id='account_password' maxlength='30' tabindex='2' name='account[password]' type='password' placeholder='Must be 8-32 characters' data-password='' data-target='account_password'>\n        <em id='password_warning' data-password-requirement=''>\n          <span class='col-1-3 w'></span>\n          <span class='col-1-3 m'></span>\n          <span class='col-1-3 s'></span>\n          <span data-password-text=''></span>\n        </em>\n        <em id='password_instruction' data-password-instruction=''></em>\n        <input class='full' id='account_password_confirmation' maxlength='30' tabindex='3' name='account[password_confirmation]' type='password' placeholder='Type again to verify' data-confirmation='' data-target='account_password_confirmation'>\n        <em id='verify' data-confirmation-requirement=''></em>\n      </span>\n    </span>\n  </p>\n  <p>\n    <label for='agreed'>\n      <span class='col-1-3'>\n        <sup>*</sup>\n        User Agreement\n      </span>\n      <span class='col-2-3'>\n        <label class='tic'>"),"undefined"!=typeof conf_mode&&null!==conf_mode?n.push("          <!-- DO NOT DELETE, This is for the conf team ask before changing -->\n          <input id='agreed' tabindex='4' type='checkbox' checked='true' data-target='agreed'>"):n.push("          <input id='agreed' tabindex='4' type='checkbox' data-target='agreed'>"),n.push("          <em>\n            By checking this box, you agree to the terms in our\n            <a href='/privacy#pp8' target='_blank'>User Agreement.</a>\n          </em>\n        </label>\n      </span>\n    </label>\n  </p>\n</fieldset>\n<p>\n  <span class='label'>\n    <span class='col-1-3'>\n      &nbsp;\n    </span>\n    <span class='col-2-3'>\n      <button class='blue btn next' id='create_account' data-submit-button='' data-target='create_account' type='submit' tabindex='5' data-disable-with='Please wait...'>Next</button>\n      <br>\n    </span>\n    <br>\n    <small class='gry'>\n      <img src='/assets/assets_rails/ico-secure.png' height='15' width='10' alt='ico-secure'>\n      Your info is never sold, shared, or rented. See our&nbsp;\n      <a href='/privacy#pp8' target='_blank'>privacy policy</a>\n      &nbsp;for additional details.\n    </small>\n    <div class='clear'></div>\n  </span>\n</p>"),n.join("\n").replace(/\s(\w+)='true'/gm," $1").replace(/\s(\w+)='false'/gm,"")}.call(window.HAML.context(e))}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/d5_web_reg/dob_zip"]=function(e){return function(){var e,t,n;return t=window.HAML.escape,e=window.HAML.cleanValue,n=[],n.push("<h1>Professional Verification\n  <em>"),this.user.isMD()||this.user.isDO()?n.push("    "+t(e("Doximity is a private physician-only directory. To allow you access, we need to verify that you are "+this.user.get("full_name")+"."))):n.push("    "+t(e("Doximity is a private directory of healthcare professionals. To allow you access, we need to verify that you are "+this.user.get("full_name")+"."))),n.push("  </em>\n</h1>"),this.user.get("manual")&&(this.user.isMedicalStudent()||this.user.isMD()||this.user.isDO()||this.user.isPhysicianAssistant())&&(log("Asking School and Grad Year on DOB/ZIP screen."),n.push("<fieldset>\n  <p>\n    <label>\n      <span class='col-1-3'>\n        <span class='multiline'>\n          <sup>*</sup>"),this.user.isPhysicianAssistant()?n.push("          PA School Country"):n.push("          Medical School Country"),n.push("        </span>\n      </span>\n      <span class='col-2-3'>\n        <select class='full' id='country' name='country[id]' data-target='medschool_country'>\n          <option value=''></option>"),_.each(window.countries,function(s){return 237===s[1]?(n.push("          <option value='"+t(e(s[1]))+"' selected='selected'>"),n.push("            "+t(e(s[0]))),n.push("          </option>")):(n.push("          <option value='"+t(e(s[1]))+"'>"),n.push("            "+t(e(s[0]))),n.push("          </option>")),""}),n.push("        </select>\n      </span>\n    </label>\n  </p>\n  <p>\n    <label>\n      <span class='col-1-3'>\n        <sup>*</sup>\n        State\n      </span>\n      <span class='col-2-3'>\n        <select class='full' id='state' name='state[id]' data-target='medschool_state'>\n          <option value=''>\n            Select\n          </option>"),_.each(window.states,function(s){return n.push("          <option value='"+t(e(s[1]))+"'>"),n.push("            "+t(e(s[0]))),n.push("          </option>"),""}),n.push("        </select>\n      </span>\n    </label>\n  </p>\n  <p>\n    <label>\n      <span class='col-1-3'>\n        <sup>*</sup>\n        School\n      </span>\n      <span class='col-2-3'>\n        <select class='full' id='school' name='user[user_education_attributes][medschool_id]' data-target='medschool_name'></select>\n      </span>\n    </label>\n  </p>\n  <p>\n    <label>\n      <span class='col-1-3'>\n        <sup>*</sup>\n        Grad Year\n      </span>\n      <span class='col-2-3'>\n        <input class='short' id='user_user_education_attributes_graduationyear' name='user[user_education_attributes][graduationyear]' type='text' size='4' maxlength='4' data-target='graduation_year'>\n      </span>\n    </label>\n  </p>\n</fieldset>")),n.push("<fieldset>\n  <p>\n    <span class='label' for=''>\n      <span class='col-1-3'>\n        <sup>*</sup>\n        Date of Birth\n      </span>\n      <span class='col-2-3'>\n        <select class='birthday' id='user_birthday_2i' name='user[birthday(2i)]' data-target='birthday_month'>\n          <option value=''>Month</option>"),_.each(_.range(1,13),function(s){return n.push("          <option value='"+t(e(s))+"'>"),n.push("            "+t(e(["January","February","March","April","May","June","July","August","September","October","November","December"][s-1]))),n.push("          </option>"),""}),n.push("        </select>\n        <select class='birthday' id='user_birthday_1i' name='user[birthday(1i)]' data-target='birthday_day'>\n          <option value=''>DD</option>"),_.each(_.range(1,32),function(s){return n.push("          <option value='"+t(e(s))+"'>"),n.push("            "+t(e(s))),n.push("          </option>"),""}),n.push("        </select>\n        <input id='user_birthday_3i' type='text' name='user[birthday(3i)]' size='4' maxlength='4' placeholder='YYYY' data-target='birthday_year'>\n      </span>\n    </span>\n  </p>"),App.Data.confMode||n.push("  <p>\n    <label for='user_home_zip'>\n      <span class='col-1-3'>\n        <sup>*</sup>\n        Home Zip\n      </span>\n      <span class='col-2-3'>\n        <input class='short' id='user_home_zip' name='user_home_zip' type='text' maxlength='5' data-target='home_zip'>\n      </span>\n    </label>\n  </p>"),n.push("</fieldset>\n<p>\n  <span class='label'>\n    <span class='col-1-3'>\n      &nbsp;\n    </span>\n    <span class='col-2-3'>\n      <button class='blue btn next' type='submit' data-target='next_button'>Next</button>\n      <br>\n      <small class='gry'>\n        <img src='/assets/assets_rails/ico-secure.png' height='15' width='10' alt='ico-secure'>\n        <span>Private & Secured: SSL Secure Socket Layer</span>\n      </small>\n    </span>\n  </span>\n</p>"),n.join("\n").replace(/\s(\w+)='true'/gm," $1").replace(/\s(\w+)='false'/gm,"")}.call(window.HAML.context(e))}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/d5_web_reg/landing"]=function(e){return function(){var t,n,s,i;return n=window.HAML.escape,t=window.HAML.cleanValue,i=function(t,n,s){return window.HAML.succeed.call(e,t,n,s)},s=[],s.push("<div class='featurehead' data-rendered='find_profile'>"),107===parseInt(this.amion)?s.push("  <div class='amion'></div>\n  <h1>Get verified to unlock the Amion App.</h1>"):s.push("  <h1>Find Your Profile</h1>"),this.group_name&&(s.push("  <h2>"),this.group_inviter_name?(s.push("    "+n(t(this.group_inviter_name))),s.push("    invited you to join")):s.push("    You've been invited to join"),s.push("    "+n(t('"'+this.group_name+'".'))),s.push("    To view this group, you need to register or"),s.push("    "+t(i(".",function(){var e;return e=[],e.push("    <a href='/signin'>sign in</a>"),e.join("\n")}))),s.push("  </h2>")),s.push("</div>\n<fieldset>\n  <p>\n    <label>\n      <span class='col-1-3'>\n        <sup>*</sup>\n        First Name\n      </span>\n      <span class='col-2-3'>\n        <input class='full' id='first_name' name='first_name' tabindex='1' type='text' value='' data-target='first_name'>\n      </span>\n    </label>\n  </p>\n  <p>\n    <label>\n      <span class='col-1-3'>\n        <sup>*</sup>\n        Last Name\n      </span>\n      <span class='col-2-3'>\n        <input class='full' id='last_name' name='last_name' tabindex='2' type='text' value='' data-target='last_name'>\n      </span>\n    </label>\n  </p>\n  <p>\n    <span class='label'>\n      <span class='col-1-3'>\n        &nbsp;\n      </span>\n      <span class='col-2-3'>\n        <button class='blue btn next' tabindex='3' type='submit' data-target='next_button'>Next</button>\n        <br>\n        <small class='gry'>\n          <img src='/assets/assets_rails/ico-secure.png' height='15' width='10' alt='ico-secure'>\n          HIPAA-grade encryption and security.\n        </small>\n      </span>\n    </span>\n  </p>\n  <div class='clear'></div>\n</fieldset>"),s.join("\n").replace(/\s(\w+)='true'/gm," $1").replace(/\s(\w+)='false'/gm,"")}.call(window.HAML.context(e))}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/d5_web_reg/login_warning"]=function(e){e||(e={});var t,n=[],s=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?a(e):""},i=e.safe,a=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},a||(a=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){this.model.get("isValid")&&null!=this.model.get("suggestion")?(n.push("\n  Did you mean <a href='#'>"),n.push(s(this.model.get("suggestion"))),n.push("</a>?\n")):(n.push("\n  "),null!=this.model.get("suggestion")?(n.push("\n    Did you mean <a href='#'>"),n.push(s(this.model.get("suggestion"))),n.push("</a>?\n  ")):n.push("\n    Email not valid.\n  "),n.push("\n")),n.push("\n")}).call(this)}.call(e),e.safe=i,e.escape=a,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/d5_web_reg/med_school_grad_yr"]=function(e){return function(){var e,t,n;return t=window.HAML.escape,e=window.HAML.cleanValue,n=[],n.push("<h1>\n  Account Verification for\n  <br>"),n.push("  "+t(e(""+this.user.get("full_name")))),n.push("  <em>We couldn't verify you based on your answers. Please provide your med school and grad year.</em>\n</h1>\n<fieldset>\n  <p>\n    <label>\n      <span class='col-1-3'>\n        <span class='multiline'>\n          <sup>*</sup>"),this.user.isPhysicianAssistant()?n.push("          PA School Country"):n.push("          Medical School Country"),n.push("        </span>\n      </span>\n      <span class='col-2-3'>\n        <select class='full' id='country' name='country[id]' data-target='medschool_country'>\n          <option value=''></option>"),_.each(window.countries,function(s){return 237===s[1]?(n.push("          <option value='"+t(e(s[1]))+"' selected='selected'>"),n.push("            "+t(e(s[0]))),n.push("          </option>")):(n.push("          <option value='"+t(e(s[1]))+"'>"),n.push("            "+t(e(s[0]))),n.push("          </option>")),""}),n.push("        </select>\n      </span>\n    </label>\n  </p>\n  <p>\n    <label>\n      <span class='col-1-3'>\n        <sup>*</sup>\n        State\n      </span>\n      <span class='col-2-3'>\n        <select class='full' id='state' name='state[id]' data-target='medschool_state'>\n          <option value=''>\n            Select\n          </option>"),_.each(window.states,function(s){return n.push("          <option value='"+t(e(s[1]))+"'>"),n.push("            "+t(e(s[0]))),n.push("          </option>"),""}),n.push("        </select>\n      </span>\n    </label>\n  </p>\n  <p>\n    <label>\n      <span class='col-1-3'>\n        <sup>*</sup>\n        School\n      </span>\n      <span class='col-2-3'>\n        <select class='full' id='school' name='user[user_education_attributes][medschool_id]' data-target='medschool_name'></select>\n      </span>\n    </label>\n  </p>\n  <p>\n    <label>\n      <span class='col-1-3'>\n        <sup>*</sup>\n        Grad Year\n      </span>\n      <span class='col-2-3'>\n        <input class='short' id='user_user_education_attributes_graduationyear' name='user[user_education_attributes][graduationyear]' type='text' size='4' maxlength='4' data-target='graduation_year'>\n      </span>\n    </label>\n  </p>\n  <p>\n    <span class='label'>\n      <span class='col-1-3'>\n        &nbsp;\n      </span>\n      <span class='col-2-3'>\n        <button class='blue btn next' type='submit' data-target='submit_button'>Next</button>\n      </span>\n    </span>\n  </p>\n</fieldset>"),n.join("\n").replace(/\s(\w+)='true'/gm," $1").replace(/\s(\w+)='false'/gm,"")}.call(window.HAML.context(e))}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/d5_web_reg/photos_edit"]=function(e){return function(){var e,t,n;return t=window.HAML.escape,e=window.HAML.cleanValue,n=[],n.push("<div class='editit reg'>\n  <form action='/accounts/upload_photo' data-remote='' data-type='json' enctype='multipart/form-data' method='post'>\n    <fieldset class='sansindent'>"),this.model.get("profile_photo_file")||n.push("      <div id='suggested_photos'>\n        <h2>Google thinks one of these might be you…</h2>\n        <p>Click on a photo to select it</p>\n        <div id='photos'>\n          <ul class='photolist' id='photolist_1' style='display: block;'></ul>\n        </div>\n      </div>"),this.model.get("profile_photo_file")?n.push("      <div id='piccer'>\n        <p id='pic'>\n          <img id='profile-photo' alt='photo' src='"+t(e(this.model.get("image_url")||this.model.get("photo_dummy")))+"' width='80'>\n            <label>\n              <em class='em strong'>Upload Profile Photo</em>\n              <em>jpg, png or gif, 1MB max</em>\n              <br>\n                <input id='upload_file' name='user[profile_photo]' type='file'>\n            </label>\n        </p>\n      </div>"):n.push("      <p id='pic'>\n        <span id='multiple_pics'>\n          <span class='strong'>Did Google get it wrong?</span>\n          <br>\n            Upload your own photo:\n        </span>\n        <span id='upload_profile_pic'>\n          <label>\n            <input id='upload_file' name='user[profile_photo]' type='file'>\n          </label>\n        </span>\n      </p>"),n.push("      <div class='clear'></div>\n      <p class='buttonset'>\n        <button class='save' type='submit'>Save</button>"),this.model.get("profile_photo_file")&&n.push("        <a class='removeConfirm' href='#' rel='nofollow'>\n          <small>Remove</small>\n        </a>"),n.push("      </p>\n    </fieldset>\n  </form>\n</div>"),n.join("\n").replace(/\s(\w+)='true'/gm," $1").replace(/\s(\w+)='false'/gm,"")}.call(window.HAML.context(e))}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/d5_web_reg/questions"]=function(e){return function(){var e,t,n;return t=window.HAML.escape,e=window.HAML.cleanValue,n=[],n.push("<h1>\n  Professional Verification for\n  <br>"),_.include([4,5],this.user.get("credentials"))||this.user.isMD()||this.user.isDO()?n.push("  "+t(e(""+this.user.get("full_name")))):n.push("  "+t(e(""+this.user.get("firstname")+" "+this.user.get("lastname")))),n.push("  <em>"),App.Data.confMode?n.push("    HIPAA requires that we verify you. Answers to the following questions are used for verification purposes only."):n.push("    Please answer these questions to confirm your identity."),n.push("  </em>\n</h1>\n<fieldset>"),App.Data.confMode&&(log("In questions screen. In conf mode."),n.push("  <p data-rendered='questions_conf_mode'>\n    <span class='label' for=''>\n      <span class='col-1-3'>"),window.App.Data.confMode&&n.push("        <sup>*</sup>"),n.push("        Date of Birth\n      </span>\n      <span class='col-2-3'>\n        <select class='birthday' id='user_birthday_2i_q' name='user[birthday(2i)]' data-target='birthday_month'>\n          <option value=''>Month</option>"),_.each(_.range(1,13),function(s){return n.push("          <option value='"+t(e(s))+"'>"),n.push("            "+t(e(["January","February","March","April","May","June","July","August","September","October","November","December"][s-1]))),n.push("          </option>"),""}),n.push("        </select>\n        <select class='birthday' id='user_birthday_1i_q' name='user[birthday(1i)]' data-target='birthday_day'>\n          <option value=''>DD</option>"),_.each(_.range(1,32),function(s){return n.push("          <option value='"+t(e(s))+"'>"),n.push("            "+t(e(s))),n.push("          </option>"),""}),n.push("        </select>\n        <input id='user_birthday_3i_q' type='text' name='user[birthday(3i)]' size='4' maxlength='4' placeholder='YYYY' data-target='birthday_year'>\n      </span>\n    </span>\n  </p>")),this.dox.hasChallengeQuestions()&&(log("In questions screen.  Showing dox questions."),n.push("  <p class='radiolist'>\n    <span class='label'>\n      <span class='col-1-3'>\n        <span class=' medSchoolQ multiline'></span>"),this.user.isPhysicianAssistant()?n.push("        Which PA school did you attend?"):n.push("        Which medical school did you attend?"),n.push("      </span>\n      <span class='col-2-3'>"),_.each(this.dox.get("challenge1"),function(s){return n.push("        <label class='tic'>\n          <em>\n            <input class='dox_question' type='radio' name='user[user_education_attributes][medschool_id]' value='"+t(e(s.id))+"' data-target='medschool_"+t(e(s.id))+"'>"),n.push("              "+t(e(s.name))),n.push("          </em>\n        </label>"),""}),n.push("      </span>\n    </span>\n  </p>")),this.idology.hasChallengeQuestions()&&(log("In questions screen.  Showing iDology questions."),_.each(this.idology.get("questions").question,function(s,i){return n.push("  <p class='radiolist' data-target='idology_question_"+t(e(i))+"'>\n    <span class='label'>\n      <span class='col-1-3'>\n        <span class='iDologyQ multiline' data-target='idology_prompt_"+t(e(i))+"'>"),n.push("          "+t(e(s.prompt))),n.push("        </span>\n      </span>\n      <span class='col-2-3'>"),_.each(s.answer,function(s){return n.push("        <label class='tic'>\n          <em>\n            <input class='idology_question idology_question_"+i+"' type='radio' name='idology_question_"+t(e(i))+"' value='"+t(e(s))+"'>"),n.push("            "+t(e(s))),n.push("          </em>\n        </label>"),""}),n.push("      </span>\n    </span>\n  </p>"),""})),n.push("  <p>\n    <span class='label'>\n      <span class='col-1-3'>\n        &nbsp;\n      </span>\n      <span class='col-2-3'>\n        <button class='blue btn next' type='submit' data-target='finish_button'>Finish Verification</button>\n      </span>\n    </span>\n  </p>\n</fieldset>"),App.Data.isProduction||(n.push("<p>\n  <br>\n  <br>\n  School:"),n.push("  "+t(e(this.user.get("school")))),n.push("  <br>\n  Birth date:"),n.push("  "+t(e(this.user.get("dob")))),n.push("</p>")),n.join("\n").replace(/\s(\w+)='true'/gm," $1").replace(/\s(\w+)='false'/gm,"")}.call(window.HAML.context(e))}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/d5_web_reg/reg_error"]=function(e){e||(e={});var t,n=[],s=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?a(e):""},i=e.safe,a=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},a||(a=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){this.model.get("fieldName")&&(n.push('\n  <strong data-rendered="error_'),n.push(s(this.model.get("fieldName").toLowerCase())),n.push('">\n    '),n.push(s(this.model.get("fieldName"))),n.push("\n  </strong>\n")),n.push("\n"),n.push(this.model.get("reason")),n.push("\n")}).call(this)}.call(e),e.safe=i,e.escape=a,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/d5_web_reg/reg_errors"]=function(e){return function(){var e;return e=[],e.push("<h2>Oops! Please check the following:</h2>\n<ul></ul>"),e.join("\n")}.call(window.HAML.context(e))}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/d5_web_reg/result"]=function(e){return function(){var e,t,n;return t=window.HAML.escape,e=window.HAML.cleanValue,n=[],n.push("<input data-id='"+t(e(this.user.dataId()))+"' data-target='select_profile_"+t(e(this.user.dataId()))+"' type='radio'>"),this.user.get("pending_invites")>0&&(n.push("<span class='pendings'>"),n.push("  "+t(e(this.user.get("pending_invites")))),this.user.get("pending_invites")>1?n.push("  colleague invites"):n.push("  colleague invite"),n.push("</span>")),n.push("<strong>"),n.push("  "+t(e(this.user.get("full_name")))),n.push("</strong>\n<em>"),n.push("  "+t(e(_.compact([this.user.get("addr1"),this.user.get("city_name"),this.user.get("state_abbreviation")]).join(", ")))),n.push("</em>"),n.join("\n").replace(/\s(\w+)='true'/gm," $1").replace(/\s(\w+)='false'/gm,"")}.call(window.HAML.context(e))}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/d5_web_reg/results"]=function(e){return function(){var e,t,n;return t=window.HAML.escape,e=window.HAML.cleanValue,n=[],0===this.length?n.push("<h1>We could not find your profile!</h1>\n<h2 class='blk'>Doximity&rsquo;s directory is pulled from a variety of sources, including the NPI and AMA databases.</h2>\n<h2 class='blk'>If you think you should be listed try searching again; claiming a profile is the easiest way to register. Or, you can register manually.</h2>\n<p>\n  <span class='label'>\n    <span class='col-1-2'>\n      <button class='blue btn full next search_again' type='button' tabindex='1'>\n        Search Again\n      </button>\n    </span>\n    <span class='col-1-2'>\n      <button class='btn full gray manual_reg next' type='button' tabindex='2' data-target='manual_reg_button'>\n        Register Manually\n      </button>\n    </span>\n  </span>\n</p>"):(n.push("<h1>\n  Select your profile\n  <br>\n  <em>"),n.push("    "+t(e("Matches for '"+this.firstname+" "+this.lastname+"'"))),n.push("    &mdash; Click your name to continue.\n    <br>\n    Old address? Don't worry, you can update this later.\n  </em>\n</h1>"),this.length>5&&(n.push("<p id='narrow_state'>\n  <label>\n    <span class='col-1-3'>\n      <select>\n        <option value=''>\n          Narrow by State\n        </option>"),_.each(window.user_states,function(s){return n.push("        <option value='"+t(e(s[1]))+"'>"),n.push("          "+t(e(s[0]))),n.push("        </option>"),""}),n.push("      </select>\n    </span>\n    <span class='col-2-3'>\n      <small>If you narrow matches by state and don't find your name, select each state you practiced in.</small>\n    </span>\n  </label>\n</p>")),n.push("<ul class='foundlist'>\n  <li class='none noneBottom'>\n    <input type='radio' data-target='select_manual'>\n    <strong>Don't see your name?</strong>\n    <em>\n      The Doximity directory is pulled from a variety of sources, including the NPI database. If you think you should be listed, try searching again. Or, you can register manually &raquo;\n    </em>\n  </li>\n</ul>\n<div class='pagination_container'></div>")),n.push("<div class='clear'></div>"),n.join("\n").replace(/\s(\w+)='true'/gm," $1").replace(/\s(\w+)='false'/gm,"")}.call(window.HAML.context(e))}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/d5_web_reg/specialties"]=function(e){return function(){var e,t,n;return t=window.HAML.escape,e=window.HAML.cleanValue,n=[],n.push("<label>\n  <span class='col-1-3'>\n    <sup>*</sup>\n    Specialty\n  </span>\n  <span class='col-2-3'>\n    <select class='full' id='spec' name='user[user_professional_detail_attributes][specialty_id]' data-target='specialty'>\n      <option value=''>\n        Select...\n      </option>"),_.each(this.specialties,function(s){return n.push("      <option value='"+t(e(s.code))+"'>"),n.push("        "+t(e(s.name))),n.push("      </option>"),""}),n.push("    </select>\n  </span>\n</label>"),n.join("\n").replace(/\s(\w+)='true'/gm," $1").replace(/\s(\w+)='false'/gm,"")}.call(window.HAML.context(e))}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/d5_web_reg/subspecialties"]=function(e){return function(){var e,t,n;return t=window.HAML.escape,e=window.HAML.cleanValue,n=[],n.push("<label>\n  <span class='col-1-3'>"),(0!==this.remaining_subspecialties.length||""!==jQuery("#specialty select").val())&&n.push("    <sup>*</sup>"),n.push("    Sub-specialties\n  </span>\n  <span class='col-2-3'>"),(this.selected_subspecialties.length>1||1===this.selected_subspecialties.length&&""!==this.selected_subspecialties[0].id)&&(n.push("    <span class='listomatic' id='selected_subspecialties'>\n      <em class='enteredlist'>"),_.each(this.selected_subspecialties,function(s){return n.push("        <a id='subspecialty_"+s.id+"' href='#' data-target='delete_subspecialty_"+t(e(s.id))+"'>"),n.push("          "+t(e(s.name))),n.push("          <img alt='Delete Subspecialty' src='/assets/assets_rails/ico-delete.png'>\n        </a>\n        <input class='full' id='subspecialties_input' name='subspecialties[]' type='hidden' value='"+t(e(s.id))+"'>"),""}),n.push("      </em>\n    </span>")),0===this.remaining_subspecialties.length&&""===jQuery("#specialty select").val()||4===this.selected_subspecialties.length?n.push("    <input class='full' disabled='disabled' type='text' value='Select a specialty first'>"):(n.push("    <select class='full' id='subspecialties_text_field' data-target='subspecialty'>\n      <option value=''>\n        Select one or more sub-specialties\n      </option>"),_.each(this.subspecialties,function(s){return n.push("      <option value='"+t(e(s.id))+"'>"),n.push("        "+t(e(s.name))),n.push("      </option>"),""}),n.push("    </select>\n    <div class='small'>\n      Please select between 1 and 4 sub-specialties.\n    </div>")),n.push("  </span>\n</label>"),n.join("\n").replace(/\s(\w+)='true'/gm," $1").replace(/\s(\w+)='false'/gm,"")}.call(window.HAML.context(e))}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/d5_web_reg/user"]=function(e){return function(){var e,t,n;return t=window.HAML.escape,e=window.HAML.cleanValue,n=[],n.push("<h1>"),this.inviterName&&(_.include([4,5],this.user.get("credentials"))?n.push("  "+t(e("Dr. "+this.user.get("lastname")+","))):n.push("  "+t(e(""+this.user.get("firstname")+","))),n.push("  <br>\n  <br>")),n.push("  Confirm your Identity\n  <em>"),n.push("    "+t(e("Before you can view and edit information belonging to "+this.user.get("full_name")+", we need to take a few steps to confirm your identity."))),n.push("  </em>\n</h1>\n<div id='prohead'>\n  <h1>"),_.include([4,5],this.user.get("credentials"))||this.user.isMD()||this.user.isDO()?n.push("    <span id='user_full_name'>"+t(e(this.user.get("full_name")))+"</span>"):n.push("    <span id='user_full_name'>"+t(e(""+this.user.get("firstname")+" "+this.user.get("lastname")))+"</span>"),n.push("  </h1>\n  <h2>"),this.user.get("specialty")&&n.push("    <span class='grn' id='header_specialty'>"+t(e(this.user.get("specialty")))+"</span>"),n.push("  </h2>\n  <h3>\n    <strong>Office Address</strong>\n    <span>"+t(e(this.user.get("addr1")))+"</span>\n    <span>"+t(e(this.user.get("addr2")))+"</span>\n    <span>"+t(e(""+this.user.get("city")+", "+this.user.get("state_postalName")))+"</span>\n  </h3>\n  <div class='clear'></div>\n</div>\n<div class='isthiscorrect' data-sel-isthiscorrect=''>"),window.App.Data.confMode?n.push("  <a href='#'>edit this info</a>"):n.push("  NOTE: If this info is outdated, you can update it after verifying your identity."),n.push("  <div class='la'></div>\n</div>\n<p>\n  <span class='label'>\n    <input name='id' type='hidden' value='"+t(e(this.user.get("id")))+"'>\n    <button class='blue btn next' type='button' tabindex='4' data-target='yes_button'>Yes, this is me</button>\n    <a class='notMe' href='register?this_isnt_me' style='margin-left:3px' data-target='not_me'>No, this isn't me</a>\n  </span>\n</p>"),n.join("\n").replace(/\s(\w+)='true'/gm," $1").replace(/\s(\w+)='false'/gm,"")
}.call(window.HAML.context(e))}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/d5_web_reg/user_author_notification"]=function(e){return function(){var e,t,n;return t=window.HAML.escape,e=window.HAML.cleanValue,n=[],n.push("<div class='user_author_notification'>\n  <h1>"),_.include([4,5],this.user.get("credentials"))?n.push("    "+t(e("Dr. "+this.user.get("lastname")+","))):n.push("    "+t(e(""+this.user.get("firstname")+","))),n.push("  </h1>"),this.docNewsArticleTitle&&n.push("  <h2>\n    You've been invited to join a discussion of this article:\n  </h2>\n  <h2 class='card'>"+t(e(this.docNewsArticleTitle))+"</h2>\n  <h2>Before giving you access to our physician-only community, we need to take a few steps to verify your identity.</h2>"),n.push("</div>\n<div id='prohead'>\n  <h1>"),_.include([4,5],this.user.get("credentials"))||this.user.isMD()||this.user.isDO()?n.push("    <span id='user_full_name'>"+t(e(this.user.get("full_name")))+"</span>"):n.push("    <span id='user_full_name'>"+t(e(""+this.user.get("firstname")+" "+this.user.get("lastname")))+"</span>"),n.push("  </h1>\n  <h2>"),this.user.get("specialty")&&n.push("    <span class='grn' id='header_specialty'>"+t(e(this.user.get("specialty")))+"</span>"),n.push("  </h2>\n  <h3>\n    <strong>Office Address</strong>\n    <span>"+t(e(this.user.get("addr1")))+"</span>"),this.user.get("addr2")&&""!==this.user.get("addr2")&&(n.push("    <span>"),n.push("      "+t(e(this.user.get("addr2")))),n.push("    </span>")),n.push("    <span>"+t(e(""+this.user.get("city")+", "+this.user.get("state_postalName")))+"</span>\n  </h3>\n  <div class='isthiscorrect' style='width:230px;'>NOTE: If this info is outdated, you can update it after verifying your identity.\n    <div class='la'></div>\n  </div>\n  <div class='clear'></div>\n</div>\n<p>\n  <input name='id' type='hidden' value='"+t(e(this.user.get("id")))+"'>\n  <span class='label'>\n    <button class='blue btn next' type='button' tabindex='4'>Yes, this is me</button>\n    <a href='register?this_isnt_me' style='margin-left:3px'>No, this isn't me</a>\n  </span>\n</p>"),n.join("\n").replace(/\s(\w+)='true'/gm," $1").replace(/\s(\w+)='false'/gm,"")}.call(window.HAML.context(e))}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/d5_web_reg/user_form"]=function(e){return function(){var e,t,n;return t=window.HAML.escape,e=window.HAML.cleanValue,n=[],n.push("<div id='profiler_form'>\n  <h1>"),this.user.isNew()||this.user.get("manual")||this.manual_reg?n.push("    Create Your Doximity Account"):n.push("    Edit your Information"),n.push("  </h1>\n</div>\n<fieldset>\n  <input id='user_user_practice_contact_attributes_city_name' name='user[user_practice_contact_attributes][city][name]' type='hidden' value='"+t(e(this.user.get("city")))+"'>\n  <input id='user_user_practice_contact_attributes_city_postalName' name='user[user_practice_contact_attributes][city][postalName]' type='hidden' value='"+t(e(this.user.get("state_postalName")))+"'>"),(this.user.isNew()||this.user.get("manual")||this.manual_reg)&&n.push("  <h2>Name & Occupation</h2>\n  <p>\n    <span class='label'>\n      <span class='col-1-3'>\n        <sup>*</sup>\n        Your Name\n      </span>\n      <span class='col-2-3'>\n        <input class='col-1-2' id='user_firstname' name='user[firstname]' type='text' placeholder='First Name' value='"+t(e(this.user.get("firstname")?this.user.get("firstname"):this.firstname))+"' size='30' data-target='user_firstname'>\n        <input class='col-1-2' id='user_lastname' name='user[lastname]' type='text' placeholder='Last Name' value='"+t(e(this.user.get("lastname")?this.user.get("lastname"):this.lastname))+"' size='30' data-target='user_lastname'>\n      </span>\n    </span>\n  </p>\n  <p>\n    <span class='label' id='user_gender'>\n      <span class='col-1-3'>\n        <sup>*</sup>\n        Gender\n      </span>\n      <span class='col-2-3'>\n        <label class='tic'>\n          <em class='user_gender_lbl'>\n            <input id='user_gender_male' name='user[gender]' type='radio' value='M' checked='"+t(e("M"===this.user.get("gender")?"checked":!1))+"' data-target='user_gender_male'>\n            Male\n          </em>\n        </label>\n        <label class='tic'>\n          <em class='user_gender_lbl'>\n            <input id='user_gender_female' name='user[gender]' type='radio' value='F' checked='"+t(e("F"===this.user.get("gender")?"checked":!1))+"' data-target='user_gender_female'>\n            Female\n          </em>\n        </label>\n      </span>\n    </span>\n  </p>"),n.push("  <p>\n    <label for=''>\n      <span class='col-1-3'>\n        <sup>*</sup>\n        Occupation\n      </span>\n      <span class='col-2-3'>\n        <select class='full' id='user_credentials' name='user[credentials]' data-target='user_credentials'>\n          <option value=''>\n            Select...\n          </option>\n          <option value='4' selected='"+t(e(4===parseInt(this.user.get("credentials"))))+"'>\n            MD\n          </option>\n          <option value='5' selected='"+t(e(5===parseInt(this.user.get("credentials"))))+"'>\n            DO\n          </option>\n          <option value='6' selected='"+t(e(6===parseInt(this.user.get("credentials"))&&_.include(["NP00"],window.specialty_code)))+"'>\n            NP\n          </option>\n          <option value='6' selected='"+t(e(6===parseInt(this.user.get("credentials"))&&_.include(["PA00"],window.specialty_code)))+"'>\n            PA\n          </option>\n          <option value='7' selected='"+t(e(7===parseInt(this.user.get("credentials"))))+"'>\n            Medical Student\n          </option>\n          <option value='6' selected='"+t(e(6===parseInt(this.user.get("credentials"))&&!_.include(["NP00","PA00"],window.specialty_code)))+"'>\n            Other HC profn'l\n          </option>\n        </select>\n      </span>\n    </label>\n  </p>\n  <p id='specialty'></p>\n  <!-- %p\n      <span class='expandable label' for='user_subspecialty'></span>\n   -->\n</fieldset>\n  <p id='subspecialty'></p>\n  <p>\n    <label for=''>\n      <span class='col-1-3'>\n        Title/Practice\n      </span>\n      <span class='col-2-3'>\n        <input class='full' id='user_title_practice' name='user[description]' type='text' placeholder='e.g. Family Medicine at Valley Assoc.' value='"+t(e(this.user.get("description")||""))+"' data-target='user_description'>\n      </span>\n    </label>\n  </p>\n  <span class='col-1-2'>\n    <h2>Office Information</h2>\n  </span>\n  <p>\n    <label for='user_user_practice_contact_attributes_addr1'>\n      <span class='col-1-3' data-sel-street-address-1-local=''>\n        <sup>*</sup>\n        Street Address\n      </span>\n      <span class='col-2-3'>\n        <input class='full' id='user_user_practice_contact_attributes_addr1' name='user[user_practice_contact_attributes][addr1]' type='text' value='"+t(e(this.user.get("addr1")||""))+"' size='30' data-target='contact_addr1'>\n      </span>\n    </label>\n  </p>\n  <p>\n    <label for='user_user_practice_contact_attributes_addr2'>\n      <span class='col-1-3' data-sel-street-address-2-local=''>\n        Suite\n        <small>(optional)</small>\n      </span>\n      <span class='col-2-3'>\n        <input class='full' id='user_user_practice_contact_attributes_addr2' name='user[user_practice_contact_attributes][addr2]' type='text' value='"+t(e(this.user.get("addr2")||""))+"' size='30' data-target='contact_addr2'>\n      </span>\n    </label>\n  </p>\n  <p data-sel-zip-code-container=''>\n    <label for='user_user_practice_contact_attributes_zip'>\n      <span class='col-1-3'>\n        <sup>*</sup>\n        Zip Code\n      </span>\n      <span class='col-2-3'>\n        <input class='short' id='user_user_practice_contact_attributes_zip' name='user[user_practice_contact_attributes][zip]' type='text' value='"+t(e(this.user.get("zip")||""))+"' size='30' data-sel-zip-code='' data-target='contact_zip'>\n      </span>\n    </label>\n  </p>\n  <p>\n    <label for='user_user_practice_contact_attributes_phone'>\n      <span class='col-1-3'>\n        Office Phone\n      </span>\n      <span class='col-2-3'>\n        <input class='mediumer' id='user_user_practice_contact_attributes_phone' name='user[user_practice_contact_attributes][phone]' type='text' value='"+t(e(_.phoneNumber(this.user.get("phone"))))+"' size='30' data-target='contact_phone'>\n      </span>\n    </label>\n  </p>\n  <p>\n    <label for='user_user_practice_contact_attributes_phone_ext'>\n      <span class='col-1-3'>\n        Extension\n      </span>\n      <span class='col-2-3'>\n        <input class='mediumer' id='user_user_practice_contact_attributes_phone_ext' name='user[user_practice_contact_attributes][phone_ext]' type='text' value='"+t(e(this.user.get("phone_ext")))+"' size='7' data-target='contact_phone_ext'>\n      </span>\n    </label>\n  </p>\n  <p>\n    <label for='user_user_practice_contact_attributes_fax'>\n      <span class='col-1-3'>\n        Office Fax\n      </span>\n      <span class='col-2-3'>\n        <input class='mediumer' id='user_user_practice_contact_attributes_fax' name='user[user_practice_contact_attributes][fax]' type='text' value='"+t(e(_.phoneNumber(this.user.get("fax"))))+"' size='30' data-target='contact_fax'>\n      </span>\n    </label>\n  </p>\n  <p>\n    <span class='label'>\n      <span class='col-1-3'>\n        &nbsp;\n      </span>\n      <span class='col-2-3'>"),this.user.isNew()||this.user.get("manual")?n.push("        <button class='blue btn next' type='submit' data-target='next_button'>Next</button>"):n.push("        <button class='blue btn next' type='submit' data-target='save_button'>Save</button>"),n.push("      </span>\n    </span>\n  </p>\n  <br>\n  <br>"),n.join("\n").replace(/\s(\w+)='true'/gm," $1").replace(/\s(\w+)='false'/gm,"")}.call(window.HAML.context(e))}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/d5_web_reg/user_split_test"]=function(e){return function(){var e,t,n;return t=window.HAML.escape,e=window.HAML.cleanValue,n=[],n.push("<h1>"),this.inviterName&&(_.include([4,5],this.user.get("credentials"))?n.push("  "+t(e("Dr. "+this.user.get("lastname")+","))):n.push("  "+t(e(""+this.user.get("firstname")+","))),n.push("  <br>\n  <br>")),n.push("  Confirm your Identity\n  <em>"),n.push("    "+t(e("Before you can view and edit information belonging to "+this.user.get("full_name")+", we need to take a few steps to confirm your identity."))),n.push("  </em>\n</h1>\n<div id='prohead'>\n  <div id='yourphoto' data-default-photo-url='"+t(e(this.user.get("default_photo_url")))+"'>"),this.user.get("has_suggested_photo")&&n.push("    <img alt='"+t(e(this.user.get("full_name")))+"' src='"+t(e(this.user.get("suggested_photo_square_thumbnail")))+"'>\n    <a href='/register' data-reject-suggested-photo=''>Wrong Photo?</a>"),n.push("  </div>\n  <h1>"),_.include([4,5],this.user.get("credentials"))||this.user.isMD()||this.user.isDO()?n.push("    <span id='user_full_name'>"+t(e(this.user.get("full_name")))+"</span>"):n.push("    <span id='user_full_name'>"+t(e(""+this.user.get("firstname")+" "+this.user.get("lastname")))+"</span>"),n.push("  </h1>\n  <h2>"),this.user.get("specialty")&&n.push("    <span class='grn' id='header_specialty'>"+t(e(this.user.get("specialty")))+"</span>"),n.push("  </h2>\n  <h3>\n    <strong>Office Address</strong>\n    <span>"+t(e(this.user.get("addr1")))+"</span>\n    <span>"+t(e(this.user.get("addr2")))+"</span>\n    <span>"+t(e(""+this.user.get("city")+", "+this.user.get("state_postalName")))+"</span>\n  </h3>\n  <div class='clear'></div>\n</div>\n<div class='isthiscorrect'>\n  NOTE: If this info is outdated, you can update it after verifying your identity.\n  <div class='la'></div>\n</div>\n<p>\n  <span class='label'>\n    <input name='id' type='hidden' value='"+t(e(this.user.get("id")))+"'>\n    <button class='blue btn next' type='button' tabindex='4'>Yes, this is me</button>\n    <a class='notMe' href='register?this_isnt_me' style='margin-left:3px'>No, this isn't me</a>\n  </span>\n</p>"),n.join("\n").replace(/\s(\w+)='true'/gm," $1").replace(/\s(\w+)='false'/gm,"")}.call(window.HAML.context(e))}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/ie7/account"]=function(e){e||(e={});var t,n=[],s=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?a(e):""},i=e.safe,a=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},a||(a=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="featurehead" id="profiler">\n  <h1>\n    Create Sign-in\n  </h1>\n</div>\n<fieldset class="reg" data-password-form>\n  <input name="id" type="hidden" value="'),n.push(s(this.user.get("id"))),n.push('">\n  <p>\n    <label for="account_login">\n      <em class="em">Email Address</em>\n      <input class="long" id="account_login" name="account[login]" tabindex="1" type="text">\n      <em>Email address will NOT be shown on your profile</em>\n    </label>\n  </p>\n  <p>\n    <label for="account_password">\n      <em class="em">Create a Password</em>\n      <input class="long" id="account_password" maxlength="30" tabindex="2" name="account[password]" type="password" placeholder="Must be 8-30 characters" data-password>\n      <em id="password_warning" data-password-requirement="" >\n        <span data-password-text=""></span>\n      </em>\n      <em id="password_instruction" data-password-instruction></em>\n\n    </label>\n    <label for="account_password_confirmation">\n      <input class="long" id="account_password_confirmation" maxlength="30" tabindex="3" name="account[password_confirmation]" type="password" placeholder="Type again to verify" data-confirmation>\n      <em id="verify" data-confirmation-requirement></em>\n    </label>\n  </p>\n  <p>\n    <label for="agreed">\n      <em class="em">User Agreement</em>\n      <input id="agreed" tabindex="4" type="checkbox">\n      <em class="agreed">By checking this box, you agree to the terms in our\n        <a href="/privacy#pp8" target="_blank">User Agreement.</a>\n      </em>\n    </label>\n  </p>\n  <p>\n    <button class="next" type="submit" tabindex="5" data-submit-button>Next</button>\n  </p>\n  <p>\n    <img src="/assets/assets_rails/ico-secure.png" alt="ico-secure">\n    Your info is never sold, shared, or rented.\n  </p>\n</fieldset>\n')}).call(this)}.call(e),e.safe=i,e.escape=a,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/ie7/landing"]=function(e){e||(e={});var t,n=[],s=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="panel landing active"><div class="featurehead">\n  <h1>Find Your Profile\n    <em>It’s FREE and takes just a minute</em>\n  </h1>\n</div>\n<fieldset class="reg">\n  <p>\n    <label>\n      <em class="em">First Name</em>\n      <input class="mediumer" id="first_name" name="first_name" tabindex="1" type="text" value="">\n    </label>\n  </p>\n  <p>\n    <label>\n      <em class="em">Last Name</em>\n      <input class="mediumer" id="last_name" name="last_name" tabindex="2" type="text" value="">\n    </label>\n  </p>\n  <p class="chained">\n    <button class="next" tabindex="3" type="submit">Next</button>\n  </p>\n  <p class="chained">\n    <em>\n      <img alt="ico-secure" height="15" src="https://db4z6a5e2pfi5.cloudfront.net/assets/assets_rails/ico-secure-0c20be0b0d4deeb103248e08ee9a1703.png" width="10" />\n      HIPAA-grade encryption and security.\n    </em>\n  </p>\n  <div class="clear"></div>\n</fieldset></div>\n')}).call(this)}.call(e),e.safe=s,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/ie7/result"]=function(e){e||(e={});var t,n=[],s=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?a(e):""},i=e.safe,a=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},a||(a=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<input data-id="'),n.push(s(this.user.dataId())),n.push('" type="radio" name="selectprofile">\n<strong>\n  '),n.push(s(this.user.get("full_name"))),n.push("\n</strong>\n<em>\n  "),n.push(s(_.compact([this.user.get("addr1"),this.user.get("city_name"),this.user.get("state_abbreviation")]).join(", "))),n.push("\n</em>\n"),this.user.get("pending_invites")>0&&(n.push('\n  <span class="pendings">\n      '),n.push(s(this.user.get("pending_invites"))),n.push("\n      "),this.user.get("pending_invites")>1?n.push("\n        colleague invites\n      "):n.push("\n        colleague invite\n      "),n.push("\n  </span>\n")),n.push("\n")}).call(this)}.call(e),e.safe=i,e.escape=a,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/ie7/results"]=function(e){e||(e={});var t,n=[],s=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?a(e):""},i=e.safe,a=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},a||(a=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="featurehead" id="profiler">\n\n  '),0===this.length?n.push('\n    <h1>We could not find your profile</h1>\n    <h2>\n      Doximity&rsquo;s directory is pulled from a variety of sources, including the NPI and AMA databases.\n    </h2>\n    <h2>\n      If you think you should be listed try searching again; claiming a profile is the easiest way to register. Or, you can register manually.\n    </h2>\n    <fieldset class="reg">\n      <p class="buttonset">\n        <button class="search_again" type="button" tabindex="1">\n          Search Again\n        </button>\n        <button class="gry manual_reg" type="button" tabindex="2">\n          Register Manually\n        </button>\n      </p>\n    </fieldset>\n  '):(n.push("\n    <h1>Select your profile</h1>\n    <h2>\n      "),n.push(s("Matches for '"+this.firstname+" "+this.lastname+"'")),n.push("\n      &mdash; Click your name to continue.\n      <small>Old address? Don't worry, you can update this later.</small>\n      "),this.length>1&&(n.push('\n        <fieldset class="reg">\n          <p id="narrow_state">\n            <label>\n              <select>\n                '),_.each(window.userStates,function(e){return n.push('\n                  <option value="'),n.push(s(e[1])),n.push('">\n                    '),n.push(s(e[0])),n.push("\n                  </option>\n                ")}),n.push("\n              </select>\n              <em>If you narrow matches by state and don't find your name, select each state you practiced in.</em>\n            </label>\n          </p>\n        </fieldset>\n      ")),n.push("\n    </h2>\n  ")),n.push('\n\n\n  <ul class="foundlist">\n    <div class="clear">&nbsp;</div>\n    <li class="none noneBottom">\n      <input type="radio">\n      <strong>Don\'t see your name?</strong>\n      <em>\n        The Doximity directory is pulled from a variety of sources, including the NPI database.\n        <br>\n        If you think you should be listed, try searching again. Or, you can register manually »\n      </em>\n    </li>\n  </ul>\n  <div class="pagination_container"></div>\n</div>\n<div class="clear">&nbsp;</div>\n')}).call(this)}.call(e),e.safe=i,e.escape=a,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/ie7/user"]=function(e){return function(){var e,t,n;return t=window.HAML.escape,e=window.HAML.cleanValue,n=[],n.push("<div class='featurehead' id='profiler_form'>\n  <h1>"),this.user.isNew()||this.user.isManual?n.push("    Create Your Doximity Account"):n.push("    Confirm your directory listing"),n.push("  </h1>\n</div>\n<fieldset class='reg'>"),this.fromEmail&&(n.push("  <h2>"),n.push("    "+t(e(this.user.get("full_name")))),n.push("  </h2>")),n.push("  <input id='user_user_practice_contact_attributes_city_name' name='user[user_practice_contact_attributes][city][name]' type='hidden' value='"+t(e(this.user.get("city")))+"'>\n  <input id='user_user_practice_contact_attributes_city_postalName' name='user[user_practice_contact_attributes][city][postalName]' type='hidden' value='"+t(e(this.user.get("state_postalName")))+"'>"),(this.user.isNew()||this.user.isManual)&&n.push("  <h2>Name &amp; Occupation</h2>\n  <p class='multi'>\n    <label for=''>\n      <em class='em'>\n        <sup>*</sup>\n        First Name\n      </em>\n      <input class='medium' id='user_firstname' name='user[firstname]' type='text' value='"+t(e(this.user.get("firstname")?this.user.get("firstname"):this.firstName))+"' size='30'>\n    </label>\n    <label for=''>\n      <em class='em'>\n        <sup>*</sup>\n        Last Name\n      </em>\n      <input class='medium' id='user_lastname' name='user[lastname]' type='text' value='"+t(e(this.user.get("lastname")?this.user.get("lastname"):this.lastName))+"' size='30'>\n    </label>\n  </p>\n  <p>\n    <label id='user_gender' for=''>\n      <em class='em'>\n        <sup>*</sup>\n        Gender\n      </em>\n    </label>\n    <input id='user_gender_male' name='user[gender]' type='radio' value='M' checked='"+t(e("M"===this.user.get("gender")?"checked":!1))+"'>\n    <em class='inline user_gender_lbl'>\n      Male\n    </em>\n    <input id='user_gender_female' name='user[gender]' type='radio' value='F' checked='"+t(e("F"===this.user.get("gender")?"checked":!1))+"'>\n    <em class='inline user_gender_lbl'>\n      Female\n    </em>\n  </p>"),n.push("  <div class='clearfix'></div>\n  <p>\n    <label for=''>\n      <em class='em'>\n        <sup>*</sup>\n        Occupation\n      </em>\n      <select class='long' id='user_credentials' name='user[credentials]'>\n        <option value=''>\n          Select...\n        </option>\n        <option value='4' selected='"+t(e(4===parseInt(this.user.get("credentials"))))+"'>\n          MD\n        </option>\n        <option value='5' selected='"+t(e(5===parseInt(this.user.get("credentials"))))+"'>\n          DO\n        </option>\n        <option value='6' selected='"+t(e(6===parseInt(this.user.get("credentials"))&&_.include(["NP00"],window.specialty_code)))+"'>\n          NP\n        </option>\n        <option value='6' selected='"+t(e(6===parseInt(this.user.get("credentials"))&&_.include(["PA00"],window.specialty_code)))+"'>\n          PA\n        </option>\n        <option value='7' selected='"+t(e(7===parseInt(this.user.get("credentials"))))+"'>\n          Medical Student\n        </option>\n        <option value='6' selected='"+t(e(6===parseInt(this.user.get("credentials"))&&!_.include(["NP00","PA00"],window.specialty_code)))+"'>\n          Other HC profn'l\n        </option>\n      </select>\n    </label>\n  </p>\n  <p id='specialty'></p>\n  <p>\n    <label class='expandable label' for='user_subspecialty'>\n      <p id='subspecialty'></p>\n    </label>\n  </p>\n  <h2>Office Information</h2>\n  <p>\n    <label for='user_user_practice_contact_attributes_addr1'>\n      <em class='em'>\n        <sup>*</sup>\n        Street Address\n      </em>\n      <input class='long' id='user_user_practice_contact_attributes_addr1' name='user[user_practice_contact_attributes][addr1]' type='text' value='"+t(e(this.user.get("addr1")||""))+"' size='30'>\n    </label>\n  </p>\n  <p>\n    <label for='user_user_practice_contact_attributes_addr2'>\n      <em class='em'>\n        Suite (optional)\n      </em>\n      <input class='long' id='user_user_practice_contact_attributes_addr2' name='user[user_practice_contact_attributes][addr2]' type='text' value='"+t(e(this.user.get("addr2")||""))+"' size='30'>\n    </label>\n  </p>\n  <p>\n    <label for='user_user_practice_contact_attributes_zip'>\n      <em class='em'>\n        <sup>*</sup>\n        Zip\n      </em>\n      <input class='short' id='user_user_practice_contact_attributes_zip' name='user[user_practice_contact_attributes][zip]' type='text' value='"+t(e(this.user.get("zip")||""))+"' size='30'>\n    </label>\n  </p>\n  <p class='multi'>\n    <label for='user_user_practice_contact_attributes_phone'>\n      <em class='em'>\n        Office Phone\n      </em>\n      <input class='medium' id='user_user_practice_contact_attributes_phone' name='user[user_practice_contact_attributes][phone]' type='text' value='"+t(e(_.phoneNumber(this.user.get("phone"))))+"' size='30'>\n    </label>\n    <label for='user_user_practice_contact_attributes_fax'>\n      <em class='em'>\n        Office Fax\n      </em>\n      <input class='medium' id='user_user_practice_contact_attributes_fax' name='user[user_practice_contact_attributes][fax]' type='text' value='"+t(e(_.phoneNumber(this.user.get("fax"))))+"' size='30'>\n    </label>\n  </p>\n  <div class='clearfix'></div>"),this.user.get("medical_school")||(n.push("  <p class='med_school_section'>\n    <label for=''></label>\n    <em class='em'>\n      Medical School Country\n    </em>\n    <select id='country' name='country[id]'>\n      <option value=''></option>"),_.each(window.countries,function(s){return 237===s[1]?(n.push("      <option value='"+t(e(s[1]))+"' selected='selected'>"),n.push("        "+t(e(s[0]))),n.push("      </option>")):(n.push("      <option value='"+t(e(s[1]))+"'>"),n.push("        "+t(e(s[0]))),n.push("      </option>")),""}),n.push("    </select>\n    <label for=''>\n      <em class='em'>\n        State\n      </em>\n      <select id='state' name='state[id]'>\n        <option value=''>\n          Select\n        </option>"),_.each(window.states,function(s){return n.push("        <option value='"+t(e(s[1]))+"'>"),n.push("          "+t(e(s[0]))),n.push("        </option>"),""}),n.push("      </select>\n    </label>\n    <label for=''>\n      <em class='em'>\n        School\n      </em>\n      <select id='school' name='user[user_education_attributes][medschool_id]'></select>\n    </label>\n    <label for=''>\n      <em class='em'>\n        Grad Year\n      </em>\n      <input id='user_user_education_attributes_graduationyear' name='user[user_education_attributes][graduationyear]' type='text' size='4' maxlength='4'>\n    </label>\n  </p>")),n.push("  <p>\n    <button class='next' type='submit'>Next</button>\n  </p>\n</fieldset>"),n.join("\n").replace(/\s(\w+)='true'/gm," $1").replace(/\s(\w+)='false'/gm,"")}.call(window.HAML.context(e))}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/mobile/bing_tracking"]=function(e){e||(e={});var t,n=[],s=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<script type="text/javascript" id="bing_tracking">\n  if (!window.mstag) mstag = {loadTag : function(){},time : (new Date()).getTime()};\n</script>\n<script id="mstag_tops" type="text/javascript" src="//flex.atdmt.com/mstag/site/74f2aee4-c702-405e-b42d-3a93962dd52e/mstag.js"></script>\n<script type="text/javascript">\n  mstag.loadTag("analytics", {dedup:"1",domainId:"2180069",type:"1",actionid:"112585"})\n</script>\n<noscript>\n  <iframe src="//flex.atdmt.com/mstag/tag/74f2aee4-c702-405e-b42d-3a93962dd52e/analytics.html?dedup=1&domainId=2180069&type=1&actionid=112585" frameborder="0" scrolling="no" width="1" height="1" style="visibility:hidden;display:none"> </iframe>\n</noscript>\n')}).call(this)}.call(e),e.safe=s,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/mobile/screens/amion_completed"]=function(obj){var __p=[];with(obj||{})__p.push('<header class="toolbar">\n  <h1>Welcome!</h1>\n</header>\n<article>\n<br />\n<p class=\'insetinfo\'>\n  <img src="/assets/assets_rails/retina/themessage.png" class="themessage" />\n  <strong>Coming Soon... secure messaging.</strong><br />\n  Build your network to easily <br /> message colleagues.<br />\n  <button type="submit" class="insetbutton blu">Let\'s get started</button>\n</p>\n</article>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/mobile/screens/challenge_idology1"]=function(obj){var __p=[];with(obj||{}){__p.push('<header class="toolbar">\n  <h1>Verification</h1>\n</header>\n<p class="questionProgress" style="display: none;">\n  Question\n  <span class="qProgressCurrent">2</span> of <span class="qProgressTotal">4</span>\n</p>\n<article>\n  <p class=\'insetinfo question\'>',question,"</p>\n  <fieldset>\n    ");var ind=0;__p.push("\n    "),_.each(answers,function(e){__p.push('\n      <label class="tic" for="idology_question_',index,'">\n        <input class="idology_question idology_question_',index,'" type="radio" name="idology_question_',index,'" id="idQuestion1_',ind,'" value="',e,'"> ',e,"\n      </label>\n      "),ind++,__p.push("\n    ")}),__p.push("\n  </fieldset>\n</article>\n")}return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/mobile/screens/challenge_idology2"]=function(obj){var __p=[];with(obj||{}){__p.push('<header class="toolbar">\n  <h1>Verification</h1>\n</header>\n<p class="questionProgress" style="display: none;">\n  Question\n  <span class="qProgressCurrent">3</span> of <span class="qProgressTotal">4</span>\n</p>\n<article>\n<p class=\'insetinfo question\'>',question,"</p>\n<fieldset>\n  ");var ind=0;__p.push("\n  "),_.each(answers,function(e){__p.push('\n    <label class="tic" for="idology_question_',index,'">\n      <input class="idology_question idology_question_',index,'" type="radio" name="idology_question_',index,'" id="idQuestion2_',ind,'" value="',e,'"> ',e,"\n    </label>\n    "),ind++,__p.push("\n  ")}),__p.push("\n</fieldset>\n</article>\n")}return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/mobile/screens/challenge_idology3"]=function(obj){var __p=[];with(obj||{}){__p.push('<header class="toolbar">\n  <h1>Verification</h1>\n</header>\n<p class="questionProgress" style="display: none;">\n  Question\n  <span class="qProgressCurrent">4</span> of <span class="qProgressTotal">4</span>\n</p>\n<article>\n  <p class=\'insetinfo question\'>',question,"</p>\n  <fieldset>\n    ");var ind=0;__p.push("\n    "),_.each(answers,function(e){__p.push('\n      <label class="tic" for="idology_question_',index,'">\n        <input class="idology_question idology_question_',index,'" type="radio" name="idology_question_',index,'" id="idQuestion3_',ind,'" value="',e,'"> ',e,"\n      </label>\n      "),ind++,__p.push("\n    ")}),__p.push("\n  </fieldset>\n</article>\n")}return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/mobile/screens/challenge_medical_school"]=function(obj){var __p=[];with(obj||{}){__p.push('<header class="toolbar">\n  <h1>Verification</h1>\n</header>\n<p class="questionProgress" style="display: none;">\n  Question\n  <span class="qProgressCurrent">1</span> of <span class="qProgressTotal">4</span>\n</p>\n<article>\n  <p class=\'insetinfo question\'>Which medical school did you attend?</p>\n  <fieldset>\n    ');var ind=0;__p.push("\n    "),_.each(questions.get("challenge1"),function(e){__p.push('\n      <label class="tic" for="user_user_education_attributes_medschool_id">\n        <input class="dox_question" type="radio" name="user[user_education_attributes][medschool_id]" id="doxQuestion_',ind,'" value="',e.id,'"> ',e.name,"\n      </label>\n      "),ind++,__p.push("\n    ")}),__p.push("\n  </fieldset>\n</article>\n")}return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/mobile/screens/create_account"]=function(obj){var __p=[];with(obj||{})__p.push('<header class="toolbar">\n  <h1>Create Account</h1>\n  <button id="createAccountNext" class="right next" data-disable-with="Please wait...">Next</button>\n</header>\n<article data-password-form="">\n  <p class=\'insetinfo mainintro\'>\n    Create your Sign In\n  </p>\n  <p>\n    <em id="password_warning" data-password-requirement="" >\n      <span class="col-1-3 w"></span>\n      <span class="col-1-3 m"></span>\n      <span class="col-1-3 s"></span>\n      <span data-password-text=""></span>\n    </em>\n    <em id="password_instruction" data-password-instruction></em>\n  </p>\n  <fieldset>\n    <input name="id" type="hidden" value="',user.get("id"),'">\n    <label for="">\n      <strong>Email</strong>\n      <input id="account_login" autocapitalize="off" autocorrect="off" type="email" name="account[login]" size="30">\n    </label>\n    <label for="">\n      <strong>Password</strong>\n      <input id="account_password" name="account[password]" placeholder="8-30 characters" size="30" type="password" data-password="">\n    </label>\n    <label for="">\n      <strong>Password</strong>\n      <input id="account_password_confirmation" name="account[password_confirmation]" placeholder="type again to confirm" size="30" type="password" data-confirmation="">\n\n    </label>\n  </fieldset>\n  <p>\n    <em id="verify" data-confirmation-requirement=""></em>\n  </p>\n  <p class=\'insetinfo legal\'>\n    Your info is never sold, shared, or rented. By creating a Doximity account, you agree to the terms in our <a target="_blank" href="https://doximity.com/privacy#pp8">User Agreement</a>.\n  </p>\n</article>\n');
return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/mobile/screens/dob_zip"]=function(obj){var __p=[];with(obj||{})__p.push('<header class="toolbar">\n  <h1>Verification</h1>\n  <button id="medSchoolGradYear_right" class="right next">Next</button>\n</header>\n<article>\n<p class=\'insetinfo mainintro\'>\n  '),window.isAmionApp?__p.push("\n    To ensure someone else doesn't register under your name, please answer the following security questions. This information will only be used to confirm your identity.\n  "):__p.push("\n    HIPAA regulations require that we verify your identity as ",user.get("firstname")," ",user.get("lastname"),". Your information will not be stored—it is used solely to confirm your identity.\n  "),__p.push("\n</p>\n\n"),user.get("manual")&&(user.isMedicalStudent()||user.isMD()||user.isDO())&&(__p.push('\n<fieldset>\n  <h2>Medical School Attended</h2>\n  <label>\n    <strong>Country</strong>\n    <select id="country" name="country[id]">\n      <option value=""></option>\n      '),_.each(window.countries,function(e){__p.push("\n        <option ",237===e[1]?'selected="selected"':"",' value="',e[1],'">',e[0],"</option>\n      ")}),__p.push('\n    </select>\n  </label>\n  <label>\n    <strong>State</strong>\n    <select id="us_state" data-sel-state name="state[id]">\n      <option value=""></option>\n      '),_.each(window.states,function(e){__p.push('\n        <option value="',e[1],'">',e[0],"</option>\n      ")}),__p.push('\n    </select>\n  </label>\n  <label>\n    <strong>School</strong>\n    <select id="school" name="user[user_education_attributes][medschool_id]"></select>\n  </label>\n  <label>\n    <strong>Grad Year</strong>\n    <input type="tel" id="user_user_education_attributes_graduationyear" name="user[user_education_attributes][graduationyear]" size="4" maxlength="4" >\n  </label>\n</fieldset>\n')),__p.push('\n\n<fieldset>\n  <h2>Birth Date</h2>\n  <div class="dateline" for="user_birthday">\n    <select class=\'birthday\' id="user_birthday_2i" name="user[birthday(2i)]">\n      <option value="">Month</option>\n      '),_.each(_.range(1,13),function(e){__p.push('\n        <option value="',e,'">',["January","February","March","April","May","June","July","August","September","October","November","December"][e-1],"</option>\n      ")}),__p.push('\n    </select>\n    <select class=\'birthday\' id="user_birthday_1i" name="user[birthday(1i)]">\n      <option value="">DD</option>\n      '),_.each(_.range(1,32),function(e){__p.push('\n        <option class="bday_',e,'" value="',e,'">',e,"</option>\n      ")}),__p.push('\n    </select>\n    <input type="tel" id="user_birthday_3i" name="user[birthday(3i)]" size="4" maxlength="4" placeholder="YYYY">\n  </div>\n</fieldset>\n\n<fieldset>\n  <label>\n    <strong>Home Zip</strong>\n    <input id="user_home_zip" name="user_home_zip" size="30" type="text" pattern="[0-9]*" value="">\n  </label>\n</fieldset>\n\n</article>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/mobile/screens/ftue"]=function(obj){var __p=[];with(obj||{})__p.push('<header class="toolbar">\n  <h1 class="lefty">Do you know...</h1>\n  <button id="skipFtueScreen" class="skip" type="button" >Skip</button>\n  '),"invites"===type?__p.push('\n    <button id="acceptAllFtue" class="next all" type="button" >Accept All</button>\n  '):__p.push('\n    <button id="acceptAllFtue" class="next all" type="button" >Include All</button>\n  '),__p.push("\n</header>\n<article>\n  "),"invites"!==type&&__p.push('\n    <div class="notice">\n      Those added will receive an invite by email or fax.\n    </div>\n  '),__p.push('\n  <div class="listhead">\n    '),"invites"===type?__p.push('\n      <img src="/assets/assets_rails/retina/ico-ftue-invites.png" />\n    '):"coauthors"===type?__p.push('\n      <img src="/assets/assets_rails/retina/ico-ftue-coauthors.png" />\n    '):"school"===type?__p.push('\n      <img src="/assets/assets_rails/retina/ico-ftue-classmates.png" />\n    '):"nearby"===type&&__p.push('\n      <img src="/assets/assets_rails/retina/ico-ftue-nearby.png" />\n    '),__p.push('\n    <strong></strong>\n  </div>\n  <ul class="userlist">\n  </ul>\n</article>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/mobile/screens/ftue_row"]=function(obj){var __p=[];with(obj||{})__p.push("<h2>",model.get("full_name"),'</h2>\n<p class="ftueRowContainer">\n  '),model.get("specialty")&&model.get("specialty").name&&__p.push('\n    <span class="specialty">',model.get("specialty").name,"</span>\n  "),__p.push('\n  <span class="location">',model.get("city"),'</span>\n</p>\n<input type="hidden" class="ftue_row" value="',model.get("id"),'" />\n<a href="#" id="addFtue_',model.get("id"),'" class="adder"></a>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/mobile/screens/is_this_you"]=function(obj){var __p=[];with(obj||{})__p.push('<header class="toolbar">\n  <h1>Your Profile</h1>\n  '),window.isMobileWeb||__p.push('\n    <button id="isThisYou_left" class="left back" type="button">Back</button>\n  '),__p.push('\n  <button id="isThisYou_right" class="right next isThisYouYes">Next</button>\n</header>\n  <article>\n\n  <input id="is_this_you_id" name="is_this_you_id" type="hidden" value="',user.dataId(),'"/>\n\n  '),inviterName?__p.push("\n    <p class='insetinfo mainintro'>\n      To connect with ",inviterName,", please confirm you are the ",user.get("firstname")," ",user.get("lastname")," shown below:\n    </p>\n  "):inviteeId&&__p.push("\n    <p class='insetinfo mainintro'>\n      Please confirm you are the ",user.get("firstname")," ",user.get("lastname")," shown below:\n    </p>\n  "),__p.push('\n\n  <div class="profiler">\n    <!--<img class="photo" src="/assets/photo-dummyadd.png" alt="photo" />-->\n    <span class="name">',user.get("full_name"),"</span>\n    "),user.get("specialty")&&__p.push('\n    <span class="specialty">',user.get("specialty_name"),"</span>\n    "),__p.push("\n    "),user.get("city")&&user.get("state")&&__p.push('\n    <span class="location">',user.get("city"),", ",user.get("state"),"</span>\n    "),__p.push('\n  </div>\n\n  <fieldset class="infoset">\n    <h2>Office Information</h2>\n\n    <label>\n      <small>Address</small>\n      <span class="info">\n        ',_.compact([user.get("addr1"),user.get("addr2"),user.get("city"),user.get("state")]).join(", "),"\n        ",user.get("zip")||"","\n      </span>\n    </label>\n    "),user.get("phone")&&__p.push('\n      <label>\n        <small>Phone</small>\n        <span class="info">\n          ',_.phoneNumber(user.get("phone")),"\n        </span>\n      </label>\n    "),__p.push("\n    "),user.get("fax")&&__p.push('\n      <label>\n        <small>Fax</small>\n        <span class="info">\n          ',_.phoneNumber(user.get("fax")),"\n        </span>\n      </label>\n    "),__p.push('\n  </fieldset>\n\n  <p class="insetinfo">\n    Inaccurate info?\n    <button id="editUserInfo" type="button" class="insetbutton edit inaccurate">Edit</button>\n  </p>\n</article>\n\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/mobile/screens/landing"]=function(e){e||(e={});var t,n=[],s=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?a(e):""},i=e.safe,a=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},a||(a=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<header class="toolbar">\n  <h1>Find your Profile</h1>\n  '),window.isMobileWeb||n.push('\n    <button id="landing_left" class="left back" type="button">Back</button>\n  '),n.push("\n  "),window.isAmionApp||n.push('\n    <button id="landing_right" class="right next">Next</button>\n  '),n.push('\n</header>\n<article id="landingContent" style="text-align: center;">\n  '),window.isAmionApp?n.push("\n  <br>\n  <p class='insetinfo'>\n    Doximity has a database of all U.S. physicians. We need to find you in the list to create a secure Amion login.\n  </p>\n  "):window.isMobileWeb&&this.group_name&&(n.push("\n    <p class='insetinfo mainintro'>\n      "),window.isMobileWeb&&this.group_inviter_name?(n.push("\n        "),n.push(s(this.group_inviter_name)),n.push(" invited you to join\n      ")):n.push("\n        You've been invited to join\n      "),n.push("\n      "),n.push(s(' "'+this.group_name+'".')),n.push('\n      &nbsp;To view this group, you need to register or <a id="signInScreen" href="/signin">sign in</a>.\n    </p>\n  ')),n.push("\n  "),window.isAmionApp?(n.push('\n    <fieldset>\n      <label>\n        <strong>First Name</strong>\n        <input type="text" id="first_name" name="firstname" value=""/>\n      </label>\n      <label>\n        <strong>Last Name</strong>\n        <input type="text" id="last_name" name="lastname" value=""/>\n      </label>\n      <label>\n        <strong>State</strong>\n        <select id="state" name="state[id]">\n          <option value="">State (optional)</option>\n          '),_.each(window.states,function(e){return n.push('\n            <option value="'),n.push(s(e[2])),n.push('">'),n.push(s(e[0])),n.push("</option>\n          ")}),n.push("\n        </select>\n      </label>\n    </fieldset>\n    ")):(n.push('\n      <p class=\'insetinfo\'>\n      <fieldset>\n      <label>\n        <strong>First Name</strong>\n        <input type="text" id="first_name" name="firstname" value=""/>\n      </label>\n      <label>\n        <strong>Last Name</strong>\n        <input type="text" id="last_name" name="lastname" value=""/>\n      </label>\n      <label>\n        <strong>State</strong>\n        <select id="state" name="state[id]">\n          <option value="">State (optional)</option>\n          '),_.each(window.states,function(e){return n.push('\n            <option value="'),n.push(s(e[2])),n.push('">'),n.push(s(e[0])),n.push("</option>\n          ")}),n.push("\n        </select>\n      </label>\n    </fieldset>\n    </p>\n    ")),n.push("\n\n  "),window.isAmionApp&&n.push('\n    <div class="toolbar amion_admin">\n        <button id="landing_right" class="right next">Find my profile</button>\n      <p class="insetinfo">\n        If you are not a healthcare provider, but manage Amion schedules, create an administrator account.\n      </p>\n      <button id="amion_admin_account" class="right">Create administrator account</button>\n    </div>\n  '),n.push("\n</article>\n")}).call(this)}.call(e),e.safe=i,e.escape=a,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/mobile/screens/manual_completed"]=function(obj){var __p=[];with(obj||{})__p.push('<header class="toolbar">\n  <h1>Welcome!</h1>\n</header>\n<article class="welcome">\n  <br />\n  <p class=\'insetinfo strong\'>\n    <img src="/assets/mobile/floater.png" class="floater" />\n    We\'ll email you with follow-up verification instructions. Access is limited until you are fully verified.\n    <button id="submitRegManual" class="insetbutton blu">Let\'s get started</button>\n  </p>\n</article>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/mobile/screens/med_school_grad_yr"]=function(obj){var __p=[];with(obj||{})__p.push('<header class="toolbar">\n  <h1>Verification</h1>\n  <button id="medSchoolGradYear_right" class="right next" type="submit">Next</button>\n</header>\n<article>\n\n  <p class=\'insetinfo mainintro\'>\n    We couldn\'t verify you based on your answers. Please provide your med school and grad year.\n  </p>\n\n  <fieldset>\n    <h2>Medical School Attended</h2>\n    <label>\n      <strong>Country</strong>\n      <select id="country" name="country[id]">\n        <option value=""></option>\n        '),_.each(window.countries,function(e){__p.push("\n          <option ",237===e[1]?'selected="selected"':"",' value="',e[1],'">',e[0],"</option>\n        ")}),__p.push('\n      </select>\n    </label>\n    <label>\n      <strong>State</strong>\n      <select id="us_state" data-sel-state name="state[id]">\n        <option value=""></option>\n        '),_.each(window.states,function(e){__p.push('\n          <option value="',e[1],'">',e[0],"</option>\n        ")}),__p.push('\n      </select>\n    </label>\n    <label>\n      <strong>School</strong>\n      <select id="school" name="user[user_education_attributes][medschool_id]"></select>\n    </label>\n    <label>\n      <strong>Grad Year</strong>\n      <input type="tel" id="user_user_education_attributes_graduationyear" name="user[user_education_attributes][graduationyear]" size="4" maxlength="4" >\n    </label>\n  </fieldset>\n</article>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/mobile/screens/passed"]=function(obj){var __p=[];with(obj||{})__p.push('<header class="toolbar">\n  <h1>Welcome!</h1>\n</header>\n<article>\n<br />\n<p class=\'insetinfo strong\'>\n  <img src="/assets/assets_rails/retina/thedoor.png" class="thedoor" />\n  It\'ll take us a few days to review your account. Access is limited until you are fully verified.\n  <button type="submit" id="submitReg" class="insetbutton blu">Let\'s get started</button>\n</p>\n</article>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/mobile/screens/results"]=function(e){e||(e={});var t,n=[],s=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?a(e):""},i=e.safe,a=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},a||(a=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<header class="toolbar">\n  <h1>Which one is you?</h1>\n  <button id="list_left" class="left back" type="button">Back</button>\n  <button id="list_right" class="right next" type="submit">Next</button>\n</header>\n<article id="usersList">\n  <div>\n    '),this.users&&this.users.length>0?(n.push("\n      <p class='insetinfo mainintro'>\n        "),1===this.users.length?n.push("\n          Please select your name to continue.\n        "):window.isAmionApp||n.push("\n          Please select yourself to continue.\n        "),n.push('\n      </p>\n      <fieldset class="usersResults infoset">\n        '),this.users.length>1&&n.push('\n          <label id="list_na_top" class="item nothere">\n            <span class="info">\n              I am not on this list\n            </span>\n          </label>\n        '),n.push("\n        "),_.each(this.users,function(e,t){return n.push('\n          <label id="list_user_'),n.push(s(t)),n.push('" class="item" data-id="'),n.push(s(e.dataId())),n.push('">\n            <span class="info">\n              <name>'),n.push(s(e.get("full_name"))),n.push("</name>\n              "),n.push(s(_.compact([e.get("addr1"),e.get("city_name"),e.get("state_abbreviation")]).join(", "))),n.push("\n            </span>\n          </label>\n        ")}),n.push("\n          "),this.users.length>10&&n.push('\n            <label id="list_na_bottom" class="item nothere">\n              <span class="info">\n              I am not on this list\n              </span>\n            </label>\n          '),n.push("\n      </fieldset>\n\n    ")):n.push('\n      <div class="empty">\n        <p class="insetinfo">\n          Doximity\'s directory is pulled from a variety of sources, including the NPI and AMA databases.\n        </p>\n        <p class="insetinfo">\n          If you think you should be listed, go Back to search again. Claiming a profile is the easiest way to register. Otherwise, tap Next to register manually.\n        </p>\n      </div>\n    '),n.push("\n  </div>\n</article>\n")}).call(this)}.call(e),e.safe=i,e.escape=a,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/mobile/screens/user"]=function(obj){var __p=[];with(obj||{})__p.push('<header class="toolbar">\n  <h1>Edit Your Information</h1>\n  <button id="user_left" class="left back" type="button">Back</button>\n  <button id="user_right" class="right next" type="submit">Next</button>\n</header>\n<article id="userForm">\n  <p class=\'insetinfo mainintro\'>\n    '),user.isNew()||user.get("manual")||__p.push("\n      Please edit any incorrect info.\n    "),__p.push("\n  </p>\n\n  <!-- Only show this for manual registration. -->\n  <fieldset>\n    "),user.get("city_name")?__p.push('\n      <input id="user_user_practice_contact_attributes_city_name" name="user[user_practice_contact_attributes][city][name]" type="hidden" value="',user.get("city_name"),'">\n    '):__p.push('\n      <input id="user_user_practice_contact_attributes_city_name" name="user[user_practice_contact_attributes][city][name]" type="hidden" value="',user.get("city")||"",'">\n    '),__p.push('\n\n    <input id="user_user_practice_contact_attributes_city_postalName" name="user[user_practice_contact_attributes][city][postalName]" type="hidden" value="',user.get("state_postalName")||"",'">\n\n    '),(user.isNew()||user.get("manual"))&&__p.push('\n      <h2>Name &amp; Occupation</h2>\n\n      <label>\n        <strong>First Name</strong>\n        <input id="user_firstname" name="user[firstname]" size="30" type="text" value="',first_name||"",'">\n      </label>\n\n      <label>\n        <strong>Last Name</strong>\n        <input id="user_lastname" name="user[lastname]" size="30" type="text" value="',last_name||"",'">\n      </label>\n    '),__p.push("\n\n    <label>\n      <strong>Occupation</strong>\n      "),window.isAmionApp&&amionAdminFlow?__p.push('\n        <input name="user[credentials]" type="hidden" value="6">\n        <select id="user_credentials" disabled="disabled" name="user[credentials]">\n          <option value="6" selected="selected">Amion scheduler</option>\n      '):__p.push('\n        <select id="user_credentials" name="user[credentials]">\n          <option value=""></option>\n          <option value="4" ',4===user.get("credentials")?'selected="selected"':"",'>MD</option>\n          <option value="5" ',5===user.get("credentials")?'selected="selected"':"",'>DO</option>\n          <option value="6" ',6===user.get("credentials")&&_.include(["NP00"],window.specialty_code)?'selected="selected"':"",'>NP</option>\n          <option value="6" ',6===user.get("credentials")&&_.include(["PA00"],window.specialty_code)?'selected="selected"':"",'>PA</option>\n          <option value="7" ',7===user.get("credentials")?'selected="selected"':"",'>Medical Student</option>\n          <option value="6" ',6!==user.get("credentials")||_.include(["NP00","PA00"],window.specialty_code)?"":'selected="selected"',">Other HC profn'l</option>\n          "),__p.push("\n      </select>\n    </label>\n\n    "),window.isAmionApp&&amionAdminFlow?__p.push('\n      <input id="specialties_input" name="user[user_professional_detail_attributes][specialty_id]" type="hidden" value="HP00">\n    '):__p.push('\n      <label for="user_specialty">\n      <strong>Specialty</strong>\n      <div id="specialty"></div>\n    </label>\n    '),__p.push("\n\n    "),window.isAmionApp&&amionAdminFlow?__p.push('\n      <input id="subspecialties_input" name="user[user_professional_detail_attributes][subspecialties][]" type="hidden" value="HP21">\n    '):__p.push('\n      <label class="label expandable" for="user_subspecialty">\n        <strong class="sub_spec smaller">Sub-Spec</strong>\n        <div id="subspecialty"></div>\n      </label>\n    '),__p.push("\n\n    "),window.isAmionApp&&amionAdminFlow||__p.push('\n      <label>\n        <strong>Title/Practice</strong>\n        <input id="user_title_practice" name="user[description]" placeholder="(optional) e.g. FP at Kaiser" size="30" type="text" value="',user.get("description")||"",'">\n      </label>\n    '),__p.push('\n  </fieldset>\n\n  <fieldset>\n    <h2>Office Info</h2>\n\n    <label for="user_user_practice_contact_attributes_addr1">\n      <strong>Address</strong>\n      <input id="user_user_practice_contact_attributes_addr1" name="user[user_practice_contact_attributes][addr1]" size="30" type="text" value="',user.get("addr1")||"",'">\n    </label>\n\n    <label for="user_user_practice_contact_attributes_addr2">\n      <strong>Suite</strong>\n      <input id="user_user_practice_contact_attributes_addr2" placeholder="(optional)" name="user[user_practice_contact_attributes][addr2]" size="30" type="text" value="',user.get("addr2")||"",'">\n    </label>\n\n    <label for="user_user_practice_contact_attributes_zip">\n        <strong>Zip</strong>\n        <input id="user_user_practice_contact_attributes_zip" name="user[user_practice_contact_attributes][zip]" size="30" pattern="[0-9]*" type="text" value="',user.get("zip")||"",'">\n    </label>\n\n    <label>\n      <strong>Phone</strong>\n      <input id="user_user_practice_contact_attributes_phone" name="user[user_practice_contact_attributes][phone]" size="30" type="tel" value="',_.phoneNumber(user.get("phone")),'">\n    </label>\n\n    <label>\n      <strong>Fax</strong>\n      <input id="user_user_practice_contact_attributes_fax" name="user[user_practice_contact_attributes][fax]" size="30" type="tel" value="',_.phoneNumber(user.get("fax")),'">\n    </label>\n  </fieldset>\n</article>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/mobile/viewport"]=function(e){e||(e={});var t,n=[],s=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<form accept-charset="UTF-8" action="/registrations.json" enctype="multipart/form-data" method="post">\n  <div class="loading">\n    <div class="faded_bg"></div>\n    <div class="spinner_container">\n      <div class="spinner">\n        <div class="bar1"></div>\n        <div class="bar2"></div>\n        <div class="bar3"></div>\n        <div class="bar4"></div>\n        <div class="bar5"></div>\n        <div class="bar6"></div>\n        <div class="bar7"></div>\n        <div class="bar8"></div>\n        <div class="bar9"></div>\n        <div class="bar10"></div>\n        <div class="bar11"></div>\n        <div class="bar12"></div>\n      </div>\n    </div>\n  </div>\n\n  <div class="panel landing"></div>\n  <div class="panel list"></div>\n  <div class="panel isThisYou"></div>\n  <div class="panel accountCreation"></div>\n  <div class="panel challengeDox"></div>\n  <div class="panel challengeIdology1"></div>\n  <div class="panel challengeIdology2"></div>\n  <div class="panel challengeIdology3"></div>\n  <div class="panel user"></div>\n  <div class="panel dobZip"></div>\n  <div class="panel medSchoolGradYear manual"></div>\n  <div class="panel passed"></div>\n  <div class="panel manualCompleted"></div>\n  <div class="panel ftue ftueInvites"></div>\n  <div class="panel ftue ftueCoAuthors"></div>\n  <div class="panel ftue ftueSchool"></div>\n  <div class="panel ftue ftueTraining"></div>\n  <div class="panel ftue ftueHospitalists"></div>\n  <div class="panel ftue ftueNearby"></div>\n\n</form>\n')}).call(this)}.call(e),e.safe=s,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/occupation"]=function(obj){var __p=[];with(obj||{})__p.push('<strong>Occupation</strong>\n<label class="tic">\n  <input id="occupation_choice_1" class="occupation_select" name="user[credentials]" type="radio" value="4" ',4===window.credentials?'checked="checked"':"",' />\n  <em class="inline">MD</em>\n</label>\n<label class="tic">\n  <input id="occupation_choice_2" class="occupation_select" name="user[credentials]" type="radio" value="5" ',5===window.credentials?'checked="checked"':"",' />\n  <em class="inline">DO</em>\n</label>\n<label class="tic">\n  <input id="occupation_choice_3" class="occupation_select" name="user[credentials]" type="radio" value="7" ',7===window.credentials?'checked="checked"':"",' />\n  <em class="inline">Med Student</em>\n</label>\n<label class="tic">\n  <input id="occupation_choice_4" class="occupation_select" name="user[credentials]" type="radio" value="6" ',6===window.credentials&&"NP00"===specialty_code?'checked="checked"':"",' />\n  <em class="inline">NP</em>\n</label>\n<label class="tic">\n  <input id="occupation_choice_4" class="occupation_select" name="user[credentials]" type="radio" value="6" ',6===window.credentials&&"PA00"===specialty_code?'checked="checked"':"",' />\n  <em class="inline">PA</em>\n</label>\n<label class="tic">\n  <input id="occupation_choice_5" class="occupation_select" name="user[credentials]" type="radio" value="6" ',6===window.credentials&&"NP00"!==specialty_code&&"PA00"!==specialty_code?'checked="checked"':"",' />\n  <em class="inline">Other</em>\n</label>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/password_validation_check"]=function(e){e||(e={});var t,n=[],s=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<img alt="Radio-checked" src="https://db4z6a5e2pfi5.cloudfront.net/assets/radio-checked.png" style="vertical-align:top;width:13px;height:13px;margin-top:1px;" />')}).call(this)}.call(e),e.safe=s,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/specialties"]=function(obj){var __p=[];with(obj||{})__p.push('<label>\n  <strong>\n    <sup>*</sup>\n    Specialty\n  </strong>\n  <select class="long" name="user_professional_detail[specialty_id]">\n    <option value="">Select...</option>\n    '),_.each(specialties,function(e){__p.push('\n      <option value="',e.code,'">',e.name,"</option>\n    ")}),__p.push("\n  </select>\n</label>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/subspecialties"]=function(obj){var __p=[];with(obj||{})__p.push("<strong>\n  Sub-specialties\n</strong>\n"),selected_subspecialties.length>0?(__p.push('\n  <label class="listomatic" id="selected_subspecialties">\n    <em class="enteredlist">\n      '),_.each(selected_subspecialties,function(e){__p.push('\n        <a href="#" id="subspecialty_',e.id,'">\n          ',e.name,'\n          <img src="/assets/assets_rails/ico-delete.png" alt="Delete Subspecialty" />\n        </a>\n        <input id="subspecialties_input" name="subspecialties[]" type="hidden" value="',e.id,'" />\n      ')}),__p.push("\n    </em>\n  </label>\n")):__p.push('\n  <input id="subspecialties_input" name="subspecialties[]" type="hidden" value="" />\n'),__p.push("\n\n<label>\n  "),0===remaining_subspecialties.length&&""===jQuery("#specialty select").val()?__p.push('\n    <input type="text" class="full droptext" value="Select a specialty first" disabled=\'disabled\' />\n  '):0===remaining_subspecialties.length?__p.push('\n    <input type="text" class="full droptext" value="Loading..." disabled=\'disabled\' />\n  '):selected_subspecialties.length>=4?__p.push("\n     <em>Maximum number of subspecialties picked.</em>\n  "):__p.push('\n    <input type="text" name="subspecialties_text" class="full droptext" id="subspecialties_text_field" placeholder="Select or type in one or more sub-specialties"/>\n  '),__p.push("\n</label>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/registrations/us_news_landing"]=function(e){return function(){var e,t,n;return t=window.HAML.escape,e=window.HAML.cleanValue,n=[],n.push("<div id='usnews_landing'>\n  <div class='grid page'>\n    <div id='usbanner'>\n      <div class='doxlogo'>\n        <div class='caps text'>Powered by</div>\n        <img src='/assets/logo-hires.png' alt='Doximity'>\n      </div>\n      <img class='usnewslogo' src='/assets/partners/usnews_logo.png' alt='USNEWS'>\n      <img class='usnewslogo usnewsdoctor' src='/assets/partners/usnews_doctor.png' alt='Doctor'>\n    </div>\n    <div class='col-1-2'>\n      <div class='gridcell' id='profilebox'>\n        <div class='caps text'>Confirm your identity</div>\n        <h1 class='strong'>"),_.include([4,5],this.user.get("credentials"))||this.user.isMD()||this.user.isDO()?n.push("          <span id='user_full_name'>"+t(e(this.user.get("full_name")))+"</span>"):n.push("          <span id='user_full_name'>"+t(e(""+this.user.get("firstname")+" "+this.user.get("lastname")))+"</span>"),n.push("        </h1>\n        <h2>"),this.user.get("specialty")&&n.push("          <span id='header_specialty'>"+t(e(this.user.get("specialty")))+"</span>\n          |"),n.push("          <span id='user_city'>"),n.push("            "+t(e(this.user.get("city")))),n.push("          </span>\n          ,\n          <span id='user_state'>"+t(e(this.user.get("state_postalName")))+"</span>\n        </h2>\n        <h4>\n          <strong>Office Address:</strong>\n        </h4>\n        <div class='text'>"),n.push("          "+t(e(this.user.get("addr1")))),this.user.get("addr2")&&""!==this.user.get("addr2")&&n.push("          "+t(e(this.user.get("addr2")))),this.user.get("phone")&&""!==this.user.get("phone")&&(n.push("          <br>\n          Phone:"),n.push("          "+t(e(_.phoneNumber(this.user.get("phone")))))),this.user.get("fax")&&""!==this.user.get("fax")&&(n.push("          <br>\n          Fax:"),n.push("          "+t(e(_.phoneNumber(this.user.get("fax")))))),n.push("        </div>\n        <br>\n        <div class='col-1-2'>\n          <input name='id' type='hidden' value='"+t(e(this.user.get("id")))+"'>"),this.inviterName?n.push("          <button class='btn full next orange' type='button' tabindex='4'>Next</button>"):n.push("          <button class='btn full next orange' type='button' tabindex='4'>Confirm</button>"),n.push("        </div>\n        <div class='col-1-2'>\n          <a class='btn full gray' href='register?this_isnt_me'>Not you? Find Your Profile.</a>\n        </div>\n        <div class='clear'></div>\n      </div>\n    </div>\n    <div class='col-1-2'>\n      <div class='explain gridcell'>\n        <br>\n        <br>\n        <div class='gridcell text'>\n          U.S. News & World Report doctor profiles and verifications are powered by Doximity, the professional network for physicians.\n        </div>\n        <div class='gridcell text'>\n          You must be an MD or DO practicing in the United States to claim your physician profile.\n        </div>\n      </div>\n    </div>\n  </div>\n</div>"),n.join("\n").replace(/\s(\w+)='true'/gm," $1").replace(/\s(\w+)='false'/gm,"")}.call(window.HAML.context(e))}}.call(this),function(){var e,t,n={}.hasOwnProperty,s=function(e,t){function s(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e},i=function(e,t){return function(){return e.apply(t,arguments)}};Models.School=function(t){function n(){return e=n.__super__.constructor.apply(this,arguments)}return s(n,t),n}(Backbone.Model),Collections.PhysicianAssistantSchool=function(e){function n(){return this.url=i(this.url,this),t=n.__super__.constructor.apply(this,arguments)}return s(n,e),n.prototype.model=Models.School,n.prototype.url=function(){return"/api/v1/physician_assistant_schools"},n}(Backbone.Collection)}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function s(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return s.prototype=n.prototype,e.prototype=new s,e.__super__=n.prototype,e};App.Models.User=function(t){function s(){return e=s.__super__.constructor.apply(this,arguments)}return n(s,t),s.PHYSICIAN_ASSISTANT_ID="PA00",s.prototype.defaults={manual:!1,challenge_count:0,country_id:237},s.prototype.url=function(){return"/registrations/"+this.get("id")+".json"},s.prototype.challengeAttempted=function(){return this.set({challenge_count:this.get("challenge_count")+1})},s.prototype.dataId=function(){return this.get("account_id")&&""!==this.get("account_id")?"":this.get("id")},s.prototype.hasAttemptedManualVerification=function(){return this.get("manual")===!0},s.prototype.hasAttemptedChallengeTwice=function(){return this.get("challenge_count")>1
},s.prototype.hasChallengeQuestions=function(){return this.get("challenge1")&&this.get("challenge2")},s.prototype.isOHCP=function(){return 6===parseInt($("#user_credentials").val())},s.prototype.isMedicalStudent=function(){return 7===parseInt($("#user_credentials").val())},s.prototype.isMD=function(){return 4===parseInt($("#user_credentials").val())},s.prototype.isDO=function(){return 5===parseInt($("#user_credentials").val())},s.prototype.isMDDO=function(){return this.isMD()||this.isDO()},s.prototype.isPhysicianAssistant=function(){return this.get("specialty_id")?this.get("specialty_id")===App.Models.User.PHYSICIAN_ASSISTANT_ID:void 0},s.prototype.isMDDOMedStudent=function(){return _.include(["MD","DO","Med Student"],this.credentials())},s.prototype.credentials=function(){switch(this.get("credentials")){case 4:return"MD";case 5:return"DO";case 6:return"OHCP";case 7:return"Med Student";default:return"None"}},s.prototype.getCredentialName=function(e){return 4===e?"MD":5===e?"DO":this.isPhysicianAssistant()?"PA":7===e?"Medical Student":"Other HC profn'l"},s.prototype.setupFullName=function(e,t,n,s){return s?""+e+" "+t+", "+n:""+e+" "+t},s.prototype.manualVerificationAttempted=function(){return this.set({manual:!0})},s.prototype.reset=function(){return this.set({manual:!1,challenge_count:0})},s.prototype.userPageHeader=function(){return this.isNew()?"Create your profile":"Edit your profile"},s.prototype.parse=function(e){return null!=e.specialty_name&&(e.specialty=e.specialty_name),e},s}(Backbone.Model)}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function s(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return s.prototype=n.prototype,e.prototype=new s,e.__super__=n.prototype,e};Models.LoginWarning=function(t){function s(){return e=s.__super__.constructor.apply(this,arguments)}return n(s,t),s.prototype.initialize=function(e,t){return null!=(null!=t?t.mailgunKey:void 0)?this.mailgunKey=t.mailgunKey:void 0},s.prototype.url=function(){return"https://api:"+this.mailgunKey+"@api.mailgun.net/v2/address/validate?callback=?"},s.prototype.parse=function(e){var t;return t={isValid:e.is_valid,suggestion:e.did_you_mean}},s}(Backbone.Model)}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function s(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return s.prototype=n.prototype,e.prototype=new s,e.__super__=n.prototype,e};Models.IdologyAttempts=function(t){function s(){return e=s.__super__.constructor.apply(this,arguments)}return n(s,t),s.prototype.urlRoot="/api/v1/registration_validations/idology_attempts",s}(Backbone.Model)}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function s(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return s.prototype=n.prototype,e.prototype=new s,e.__super__=n.prototype,e};App.Models.IdologyQuestions=function(t){function s(){return e=s.__super__.constructor.apply(this,arguments)}return n(s,t),s.prototype.url=function(){return"/api/v1/registration_validations/idology_questions"},s.prototype.hasChallengeQuestions=function(){var e;return 3===(null!=(e=this.get("questions"))?e.question.length:void 0)},s.prototype.getQuestion=function(e){var t;return null!=(t=this.get("questions"))?t.question[e].prompt:void 0},s.prototype.getAnswers=function(e){var t;return null!=(t=this.get("questions"))?t.question[e].answer:void 0},s.prototype.getType=function(e){var t;return null!=(t=this.get("questions"))?t.question[e].type:void 0},s}(App.Models.User)}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function s(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return s.prototype=n.prototype,e.prototype=new s,e.__super__=n.prototype,e};App.Models.DoximityQuestions=function(t){function s(){return e=s.__super__.constructor.apply(this,arguments)}return n(s,t),s.prototype.url=function(){return"/api/v1/registration_validations/doximity_questions"},s.prototype.parse=function(e){return(null!=e?e.items:void 0)&&e.items.length>0&&(e.challenge1=e.items),null!=e&&delete e.items,e},s.prototype.hasChallengeQuestions=function(){return this.get("challenge1")},s.prototype.hasAttemptedManualVerification=function(){return this.get("manual")===!0},s.prototype.manualVerificationAttempted=function(){return this.set({manual:!0})},s.prototype.reset=function(){return this.set({manual:!1})},s}(App.Models.User)}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function s(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return s.prototype=n.prototype,e.prototype=new s,e.__super__=n.prototype,e};App.Models.RegError=function(t){function s(){return e=s.__super__.constructor.apply(this,arguments)}return n(s,t),s}(Backbone.Model)}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function s(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return s.prototype=n.prototype,e.prototype=new s,e.__super__=n.prototype,e};App.Collections.Users=function(t){function s(){return e=s.__super__.constructor.apply(this,arguments)}return n(s,t),s.prototype.model=App.Models.User,s.prototype.url="/registrations.json",s.prototype.parse=function(e){return this.page=e.current_page,this.total_pages=e.total_pages,this.searched_state=e.searched_state,this.paginatable=this.page<=this.total_pages,e.items},s}(Backbone.Collection)}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function s(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return s.prototype=n.prototype,e.prototype=new s,e.__super__=n.prototype,e};App.Collections.RegErrors=function(t){function s(){return e=s.__super__.constructor.apply(this,arguments)}return n(s,t),s.prototype.model=App.Models.RegError,s}(Backbone.Collection)}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function s(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return s.prototype=n.prototype,e.prototype=new s,e.__super__=n.prototype,e};App.Routers.D5WebRegRouter=function(t){function s(){return e=s.__super__.constructor.apply(this,arguments)}return n(s,t),s.prototype.initialize=function(e){return this.ogView=e.view},s.prototype.routes={"":"landing",landing:"landing","list/firstname/:firstname/lastname/:lastname":"list",list:"list",user:"user",accountCreation:"accountCreation",userForm:"userForm",dobZip:"dobZip",questions:"questions",medSchoolGradYear:"medSchoolGradYear"},s.prototype.landing=function(){var e,t,n,s,i,a,r,o,l,u;return r={},_.each(null!=(o=location.href.split("?")[1])?o.split("&"):void 0,function(e){var t,n,s;return s=e.split("="),t=s[0],n=s[1],r[t]=n}),r.id&&(i=r.id),r.n&&(a=r.n),r.group_name&&(s=r.group_name),r.group_inviter_name&&(n=r.group_inviter_name),r.article_title&&(t=r.article_title),r.article_id&&(e=r.article_id),i?(t&&(this.ogView.docNewsArticleTitle=unescape(t)),e&&(this.ogView.docNewsArticleId=unescape(e)),a&&(this.ogView.inviterName=unescape(a)),this.ogView.showUser(parseInt(i))):(s&&(this.ogView.groupName=null!=(l=unescape(unescape(s)))?l.replace("#landing",""):void 0),n&&(this.ogView.groupInviterName=null!=(u=unescape(unescape(n)))?u.replace("#landing",""):void 0),this.ogView.landing())},s.prototype.list=function(e,t){return e&&t?(this.ogView.firstname=e,this.ogView.lastname=t,this.ogView.searchResults(e,t)):this.ogView.showResults()},s.prototype.user=function(){return this.ogView.showUser()},s.prototype.userForm=function(){return this.ogView.showUserForm()},s.prototype.dobZip=function(){return"questions"===this.ogView.state?this.navigate("questions",{trigger:!0}):this.ogView.showDobZip()},s.prototype.questions=function(){return this.ogView.showQuestions()},s.prototype.medSchoolGradYear=function(){return this.ogView.showMedSchoolGradYear()},s.prototype.accountCreation=function(){return this.ogView.showAccountCreation()},s}(Backbone.Router)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,s=function(e,t){function s(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};App.Views.MedicalSchool=function(n){function i(){return this.change=t(this.change,this),this.placeholder=t(this.placeholder,this),this.changeSchool=t(this.changeSchool,this),e=i.__super__.constructor.apply(this,arguments)}return s(i,n),i.prototype.events={"change #country":"change","change #state":"change","change #school":"changeSchool","change #user_user_education_attributes_graduationyear":"placeholder"},i.prototype.setup=function(){return this.state=this.$("#state"),this.country=this.$("#country"),this.school=this.$("#school"),this.year=this.$("#user_user_education_attributes_graduationyear"),this.state.closest("p").hide(),this.school.closest("p").hide(),this.year.closest("p").hide(),this.placeholder()},i.prototype.changeSchool=function(){return this.placeholder(),""===this.school.val()?this.year.closest("p").hide():this.year.closest("p").show()},i.prototype.placeholder=function(){return""===this.country.val()?this.country.addClass("placeholder"):this.country.removeClass("placeholder"),""===this.state.val()?this.state.addClass("placeholder"):this.state.removeClass("placeholder"),""===this.school.val()?this.school.addClass("placeholder"):this.school.removeClass("placeholder"),""===this.year.val()?this.year.addClass("placeholder"):this.year.removeClass("placeholder")},i.prototype.change=function(){var e,t=this;if(this.placeholder(),""===this.country.val())return this.state.closest("p").hide(),this.school.closest("p").hide(),void 0;if(237===parseInt(this.country.val())&&this.state.closest("p").show(),e={country_id:this.country.val()},237===parseInt(this.country.val())){if(""===this.state.val())return this.school.empty(),this.school.closest("p").hide(),void 0;e.state_id=this.state.val(),this.state.closest("p").show()}else this.state.closest("p").hide();return $.ajax({url:"/api/v1/medical_schools",data:e,dataType:"json",success:function(e){return t.school.closest("p").show(),window.isD5App?t.school.html("<option value=''></option>"):t.school.html("<option value=''>Select Medical School</option>"),t.school.append(_.map(e,function(e){return"<option value='"+e.id+"'>"+e.name+"</option>"}).join(""))}})},i}(Backbone.View)}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function s(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return s.prototype=n.prototype,e.prototype=new s,e.__super__=n.prototype,e};Views.SchoolOption=function(t){function s(){return e=s.__super__.constructor.apply(this,arguments)}return n(s,t),s.prototype.tagName="option",s.prototype.render=function(){return this.$el.html(_.template("<%= content %>",{content:this.options.content})),this.$el.attr("value",this.options.value),this},s}(Backbone.View)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,s=function(e,t){function s(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};Views.PhysicianAssistantSchool=function(n){function i(){return this.updateSchools=t(this.updateSchools,this),this.placeholder=t(this.placeholder,this),this.changeSchool=t(this.changeSchool,this),e=i.__super__.constructor.apply(this,arguments)}return s(i,n),i.prototype.events={"change [name='country[id]']":"change","change [name='state[id]']":"change","change [name='user[user_education_attributes][medschool_id]']":"changeSchool","change [name='user[user_education_attributes][graduationyear]']":"placeholder"},i.prototype.initialize=function(){return this.collection=new Collections.PhysicianAssistantSchool,this.collection.on("reset",this.updateSchools)},i.prototype.render=function(){return this.state=this.$("[name='state[id]']"),this.country=this.$("[name='country[id]']"),this.school=this.$("[name='user[user_education_attributes][medschool_id]']"),this.year=this.$("#user_user_education_attributes_graduationyear"),this.state.closest("p").hide(),this.school.closest("p").hide(),this.year.closest("p").hide(),this.placeholder()},i.prototype.setup=function(){return this.render()},i.prototype.changeSchool=function(){return this.placeholder(),""===this.school.val()?this.year.closest("p").hide():this.year.closest("p").show()},i.prototype.placeholder=function(){return""===this.country.val()?this.country.addClass("placeholder"):this.country.removeClass("placeholder"),""===this.state.val()?this.state.addClass("placeholder"):this.state.removeClass("placeholder"),""===this.school.val()?this.school.addClass("placeholder"):this.school.removeClass("placeholder"),""===this.year.val()?this.year.addClass("placeholder"):this.year.removeClass("placeholder")},i.prototype.change=function(){var e;if(this.placeholder(),""===this.country.val())return this.state.closest("p").hide(),this.school.closest("p").hide(),void 0;if(237===parseInt(this.country.val())&&this.state.closest("p").show(),e={country_id:this.country.val()},237===parseInt(this.country.val())){if(""===this.state.val())return this.school.empty().closest("p").hide(),void 0;e.state_id=this.state.val(),this.state.closest("p").show()}else this.state.closest("p").hide();return this.collection.fetch({data:e})},i.prototype.updateSchools=function(){var e,t=this;return this.school.closest("p").show(),e=window.isD5App?{value:"",content:""}:{value:"",content:"Select PA School"},this.school.html(new Views.SchoolOption(e).render().el),this.collection.each(function(n){return e={value:n.get("id"),content:n.get("name")},t.school.append(new Views.SchoolOption(e).render().el)})},i}(Backbone.View)}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function s(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return s.prototype=n.prototype,e.prototype=new s,e.__super__=n.prototype,e};App.Views.LoginWarning=function(t){function s(){return e=s.__super__.constructor.apply(this,arguments)}return n(s,t),s.prototype.tagName="em",s.prototype.className="login_warning",s.prototype.template=JST["templates/registrations/d5_web_reg/login_warning"],s.prototype.events={"click a":"useSuggestion"},s.prototype.render=function(){return this.model.get("isValid")?(this.trigger("resetSuggestionEmail"),null!=this.model.get("suggestion")&&this.$el.html(this.template({model:this.model}))):(this.$el.html(this.template({model:this.model})),null!=this.model.get("suggestion")?this.trigger("resetSuggestionEmail"):this.trigger("invalidEmail")),this},s.prototype.useSuggestion=function(e){return e.preventDefault(),this.trigger("suggestedEmail",{suggestedEmail:$(e.currentTarget).html()}),this.remove()},s}(Backbone.View)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,s=function(e,t){function s(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};App.Views.D5WebAlertNotMe=function(n){function i(){return this.manualReg=t(this.manualReg,this),this.searchAgain=t(this.searchAgain,this),this.render=t(this.render,this),e=i.__super__.constructor.apply(this,arguments)}return s(i,n),i.prototype.events={"click .search_again":"searchAgain","click .manual_reg":"manualReg"},i.prototype.render=function(){return $(this.el).append(JST["templates/registrations/d5_web_reg/alert_not_me"]),this},i.prototype.searchAgain=function(e){return e.preventDefault(),this.trigger("search_again")},i.prototype.manualReg=function(e){return e.preventDefault(),this.trigger("manual_reg")},i}(Backbone.View)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,s=function(e,t){function s(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};App.Views.D5WebResult=function(n){function i(){return this.thisIsMe=t(this.thisIsMe,this),this.render=t(this.render,this),e=i.__super__.constructor.apply(this,arguments)}return s(i,n),i.prototype.tagName="li",i.prototype.events={click:"thisIsMe"},i.prototype.initialize=function(e){return this.parent=e.parent},i.prototype.render=function(){return $(this.el).append(JST["templates/registrations/d5_web_reg/result"]({user:this.model})),this},i.prototype.thisIsMe=function(e){return e.preventDefault(),this.parent.trigger("this_is_me",this.$("input").attr("data-id"),this.model.get("registration_source"))},i}(Backbone.View)}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function s(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return s.prototype=n.prototype,e.prototype=new s,e.__super__=n.prototype,e};App.Views.RegScreens.AccountCreation=function(t){function s(){return e=s.__super__.constructor.apply(this,arguments)}return n(s,t),s.prototype.events={"keypress input[name='account[login]']":"checkEmailSuggestionKeyPress","blur input[name='account[login]']":"handleLoginBlur"},s.prototype.initialize=function(e){return this.parent=e.parent,this.user=this.parent.user,this.invalidEmail=!1},s.prototype.render=function(){return this.$el.html(JST["templates/registrations/d5_web_reg/create_account"]({user:this.user})),App.Data.isProduction&&this.checkEmailSuggestion(),this.parent.transitionView("accountCreation"),this.passwordValidator=new Views.PasswordValidator,this},s.prototype.handleAccountCreation=function(){var e,t,n=this;return t=[],""===(e=$.trim($("#account_login").val()))&&t.push({reason:"Please enter an email address.",fieldID:"account_login",fieldName:"EMAIL"}),this.passwordValidator.bad_password===!0&&t.push({reason:"Your password must be 8-30 characters. Consider adding a number, upper case letter and/or more characters.",fieldID:"account_password",fieldName:"PASSWORD"}),this.passwordValidator.passwords_dont_match===!0&&t.push({reason:"Please make sure your password confirmation matches your password.",fieldID:"account_password_confirmation",fieldName:"PASSWORD MISMATCH"}),this.invalidEmail&&t.push({reason:"Please enter a valid email address.",fieldID:"account_login",fieldName:"EMAIL"}),$("input#agreed").prop("checked")||t.push({reason:"Please accept the User Agreement",fieldID:"agreed",fieldName:"USER AGREEMENT"}),t.length>0?(this.parent.showError(t),!1):(this.user.bind("email_validated",function(e,t){var s;return null==t&&(t=!1),"valid"===e?t?!1:n.parent.done():($(".loading").hide(),$("#create_account").removeAttr("disabled").html("Next"),s="The email you specified is "+e+". Please try again.","taken"===e&&(s="The email you specified is "+e+". Please <a href='/signin'>login</a> or <a href='/password_resets/new'>reset password</a>."),n.parent.showError([{reason:s,fieldID:"account_login",fieldName:"EMAIL"}]),!1)}),this.validateEmail(e,this.user.get("id")))},s.prototype.checkEmailSuggestion=function(){var e=this;return $(".loading p").html(""),this.$("input[name='account[login]']").mailgun_validator({api_key:this.$el.data("mailgunapi"),error:function(){return $(".loading").hide()},success:function(t){return null!=e.loginWarning&&e.loginWarning.remove(),e.loginWarning=new App.Views.LoginWarning({model:new Models.LoginWarning({isValid:t.is_valid,suggestion:t.did_you_mean})}),e.loginWarning.on("suggestedEmail",function(t){return e.$("input[name='account[login]']").val(t.suggestedEmail)}),e.loginWarning.on("resetSuggestionEmail",function(){return e.parent.errors_collection.reset([]),e.invalidEmail=!1}),e.loginWarning.on("invalidEmail",function(){return e.invalidEmail=!0}),e.$("input[name='account[login]']").after(e.loginWarning.render().el),e.validateEmail($.trim($("#account_login").val()),e.user.id,!0)}})},s.prototype.checkEmailSuggestionKeyPress=function(e){return 13===e.which?($(e.currentTarget).trigger("focusout"),!1):void 0},s.prototype.handleLoginBlur=function(e){var t;return""===$(e.currentTarget).val()?null!=(t=this.loginWarning)?t.remove():void 0:void 0},s.prototype.validateEmail=function(e,t,n){var s=this;return null==n&&(n=!1),$.ajax({type:"post",url:"/api/v1/registration_validations/emails",data:{email:e,id:t},dataType:"json",complete:function(){},success:function(e){return s.user.trigger("email_validated",e.status,n)},error:function(e){var t;return $(".loading").hide(),s.user.trigger("email_validated",null!=(t=JSON.parse(e.responseText))?t.status:void 0,n)}})},s}(Backbone.View)}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function s(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return s.prototype=n.prototype,e.prototype=new s,e.__super__=n.prototype,e};App.Views.RegScreens.DobZip=function(t){function s(){return e=s.__super__.constructor.apply(this,arguments)}return n(s,t),s.prototype.initialize=function(e){return this.parent=e.parent,this.user=this.parent.user,this.idologyAttempts=new Models.IdologyAttempts({id:this.user.get("id")})},s.prototype.render=function(){var e;return this.$el.html(JST["templates/registrations/d5_web_reg/dob_zip"]({user:this.user})),this.user.get("manual")&&(this.user.isMD()||this.user.isDO()||this.user.isMedicalStudent()?e=new App.Views.MedicalSchool({el:".dobZip"}):this.user.isPhysicianAssistant()&&(e=new Views.PhysicianAssistantSchool({el:".dobZip"})),null!=e&&e.setup(),null!=e&&e.change()),this.parent.transitionView("dobZip"),this},s.prototype.updateUserInfo=function(){var e,t,n,s,i,a,r,o=this;if(n=$.trim(this.$("#user_birthday_2i").val()),e=$.trim(this.$("#user_birthday_1i").val()),a=$.trim(this.$("#user_birthday_3i").val()),r=this.$("#user_home_zip").val()?$.trim(this.$("#user_home_zip").val()):"",i={month:n,day:e,year:a,zip:r},this.parent.validateBirthday(n,e,a)&&(App.Data.confMode||this.parent.validateZip(r))){if(this.user.get("manual")&&(this.user.isMedicalStudent()||this.user.isMD()||this.user.isDO()||this.user.isPhysicianAssistant())){if(s=this.$("#school").val()?$.trim(this.$("#school").val()):"",t=$.trim(this.$("#user_user_education_attributes_graduationyear").val()),!this.parent.validateMedSchoolGradYear(s,t))return;i.institution_id=s,i.end_year=t}return $.ajax({type:"put",url:"/api/v1/registration_validations/training_updates/"+this.user.get("id"),data:i,dataType:"json",beforeSend:function(){return $(".loading p").html("Getting verification questions.<br />This may take a moment.").closest(".loading").show()},complete:function(){},error:function(e){var t,n;return t=null!=(n=JSON.parse(null!=e?e.responseText:void 0))?n.errors:void 0,"Date of birth must be valid"===(null!=t?t.base:void 0)&&o.parent.showError([{reason:null!=t?t.base:void 0,fieldID:"user_birthday_1i",fieldName:"DATE OF BIRTH"}]),$(".loading").hide()},success:function(){return o.idologyAttempts.fetch({success:function(e,t){return App.Reg.wait_for_questions=[],0===(null!=t?t.attempts:void 0)&&(App.Reg.idologyQuestions.set({user_id:o.user.get("id")}),App.Reg.doximityQuestions.set({user_id:o.user.get("id")}),log("Requesting iDology questions."),App.Reg.wait_for_questions.push($.ajax({type:"post",url:"/api/v1/registration_validations/idology_questions",data:{id:o.user.get("id"),month:$("#user_birthday_2i").val(),year:$("#user_birthday_3i").val(),zip:$("#user_home_zip").val()},complete:function(){},success:function(e){return log("Success requestion iDology questions..."),log(e),App.Reg.idologyQuestions.set(e)},error:function(e){return log("Error retrieving iDology questions...."),log(e)}}))),o.user.get("manual")||(log("Requesting dox questions...only if not a manual reg."),App.Reg.wait_for_questions.push($.ajax({url:"/api/v1/registration_validations/doximity_questions",type:"post",data:{id:o.user.get("id")},complete:function(){},success:function(e){return log("Success requesting doximity questions..."),log(e),App.Reg.doximityQuestions.set(App.Reg.doximityQuestions.parse(e))},error:function(e){return log("Error retrieving Doximity questions...."),log(e)}}))),App.Reg.getChallengeQuestions()}})}})}},s}(Backbone.View)}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function s(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return s.prototype=n.prototype,e.prototype=new s,e.__super__=n.prototype,e};App.Views.RegScreens.Landing=function(t){function s(){return e=s.__super__.constructor.apply(this,arguments)}return n(s,t),s.prototype.initialize=function(e){return this.parent=e.parent},s.prototype.render=function(){return this.parseUrl(),this.$el.html(JST["templates/registrations/d5_web_reg/landing"]({group_name:this.parent.groupName,group_inviter_name:this.parent.groupInviterName,amion:this.params.eid})),$(".pagiation").remove(),this.parent.transitionView("landing"),this},s.prototype.parseUrl=function(){var e,t,n=this;return e=window.location.href,this.params={},_.each(null!=(t=e.split("?")[1])?t.split("&"):void 0,function(e){var t,s,i;return i=e.split("="),t=i[0],s=i[1],n.params[t]=s})},s.prototype.joinNow=function(){var e;return this.parent.firstname=$.trim($("#first_name").val()),this.parent.lastname=$.trim($("#last_name").val()),e=[],""===this.parent.firstname&&e.push({reason:"First name is required. Please enter a valid first name.",fieldID:"first_name",fieldName:"FIRST NAME"}),""===this.parent.lastname&&e.push({reason:"Last name is required. Please enter a valid last name.",fieldID:"last_name",fieldName:"LAST NAME"}),e.length>0?(this.parent.showError(e),void 0):(_gaq.push(["_trackEvent","Registration","A1_searchedDb",""+this.parent.firstname+" "+this.parent.lastname]),this.parent.searchResults(this.parent.firstname,this.parent.lastname))},s}(Backbone.View)}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function s(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return s.prototype=n.prototype,e.prototype=new s,e.__super__=n.prototype,e};App.Views.RegScreens.MedSchoolGradYear=function(t){function s(){return e=s.__super__.constructor.apply(this,arguments)}return n(s,t),s.prototype.initialize=function(e){return this.parent=e.parent,this.user=this.parent.user,this.school=this.user.isPhysicianAssistant()?new Views.PhysicianAssistantSchool({el:".medSchoolGradYear"}):new App.Views.MedicalSchool({el:".medSchoolGradYear"})},s.prototype.render=function(){return this.$el.html(JST["templates/registrations/d5_web_reg/med_school_grad_yr"]({user:this.user})),this.school.setup(),this.school.change(),this.parent.transitionView("medSchoolGradYear"),this},s.prototype.handleMedSchoolGradYear=function(){var e,t,n=this;return t=this.$("#school").val()?$.trim(this.$("#school").val()):"",e=this.$("#user_user_education_attributes_graduationyear").val()?$.trim(this.$("#user_user_education_attributes_graduationyear").val()):"",this.parent.validateMedSchoolGradYear(t,e)?$.ajax({type:"put",url:"/api/v1/registration_validations/training_updates/"+this.user.get("id"),data:{institution_id:t,end_year:e},dataType:"json",success:function(){return n.parent.showAccountCreation()}}):void 0},s}(Backbone.View)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,s=function(e,t){function s(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};App.Views.RegScreens.Questions=function(n){function i(){return this.handleQuestions=t(this.handleQuestions,this),e=i.__super__.constructor.apply(this,arguments)}return s(i,n),i.prototype.events={"click .dox_question":"doxQuestion","click .idology_question_0":"id1Question","click .idology_question_1":"id2Question","click .idology_question_2":"id3Question"},i.prototype.initialize=function(e){return this.parent=e.parent,this.user=this.parent.user,this.passedDox=!1,this.passedIdology=!1,this.gettingQuestions=0},i.prototype.render=function(){return this.$el.html(JST["templates/registrations/d5_web_reg/questions"]({user:this.user,idology:App.Reg.idologyQuestions,dox:App.Reg.doximityQuestions})),this.parent.transitionView("questions"),this},i.prototype.doxQuestion=function(e){return this.userDoxAnswer=$(e.currentTarget).val()},i.prototype.id1Question=function(e){return this.userIdologyAnswer1=$(e.currentTarget).val()},i.prototype.id2Question=function(e){return this.userIdologyAnswer2=$(e.currentTarget).val()},i.prototype.id3Question=function(e){return this.userIdologyAnswer3=$(e.currentTarget).val()},i.prototype.handleQuestions=function(){return this.gettingQuestions=0,$(".loading").hide(),this.passedDox||this.user.get("manual")||!this.user.isMDDOMedStudent()&&!this.user.isPhysicianAssistant()?this.parent.showAccountCreation():this.parent.showMedSchoolGradYear()},i.prototype.verifyQuestions=function(){var e,t,n,s;return t=[],$(".medSchoolQ").removeClass("error"),$(".iDologyQ").removeClass("error"),$(".validation_error").remove(),window.App.Data.confMode&&($("label.error").removeClass("error"),n=$.trim(this.$("#user_birthday_2i_q").val()),e=$.trim(this.$("#user_birthday_1i_q").val()),s=$.trim(this.$("#user_birthday_3i_q").val()),(""===n||""===e||""===s)&&t.push({reason:"Please make sure you enter your date of birth.",fieldID:"user_birthday_1i_q",fieldName:"DATE OF BIRTH"})),$(".dox_question").length>0&&!$(".dox_question:checked").val()&&(t.push({reason:"Please tell us what medical school you've attended.",fieldName:"MEDICAL SCHOOL"}),$(".medSchoolQ").addClass("error")),$(".idology_question").length>0&&!$(".idology_question:checked").val()&&(t.push({reason:"Please tell us what medical school you've attended.",fieldName:"MEDICAL SCHOOL"}),$(".iDologyQ").addClass("error")),t.length>0?(this.parent.showError(t),!1):(this.unbind("got_questions"),this.bind("got_questions",this.handleQuestions),null!=this.userDoxAnswer&&this.checkDoxAnswer(),null!=this.userIdologyAnswer1&&null!=this.userIdologyAnswer2&&null!=this.userIdologyAnswer3?this.checkIdologyAnswers():void 0)},i.prototype.checkDoxAnswer=function(){var e=this;return $.ajax({type:"put",url:"/api/v1/registration_validations/doximity_questions/"+this.user.get("id"),data:{medical_school_id:this.userDoxAnswer},dataType:"json",beforeSend:function(){return $(".loading p").empty().closest(".loading").show()},complete:function(){},success:function(t){return e.gettingQuestions+=1,App.Reg.idologyQuestions.hasChallengeQuestions()||(e.gettingQuestions+=1),"pass"===t.status&&(e.passedDox=!0),"undefined"!=typeof mixpanel&&null!==mixpanel&&"function"==typeof mixpanel.track&&mixpanel.track("Submitted Dox Questions",{passed:e.passedDox}),2===e.gettingQuestions?e.trigger("got_questions"):void 0}})},i.prototype.checkIdologyAnswers=function(){var e=this;return $.ajax({type:"put",url:"/api/v1/registration_validations/idology_questions/"+this.user.get("id"),data:{questions_id:App.Reg.idologyQuestions.get("id_number"),question1Type:App.Reg.idologyQuestions.getType(0),question1Answer:this.userIdologyAnswer1,question2Type:App.Reg.idologyQuestions.getType(1),question2Answer:this.userIdologyAnswer2,question3Type:App.Reg.idologyQuestions.getType(2),question3Answer:this.userIdologyAnswer3},dataType:"json",beforeSend:function(){return $(".loading p").empty().closest(".loading").show()},complete:function(){},success:function(t){return e.gettingQuestions+=1,App.Reg.doximityQuestions.hasChallengeQuestions()||(e.gettingQuestions+=1),"pass"===t.status&&(e.passedIdology=!0),2===e.gettingQuestions&&e.trigger("got_questions"),"undefined"!=typeof mixpanel&&null!==mixpanel?"function"==typeof mixpanel.track?mixpanel.track("Submitted Idology Questions",{passed:e.passedIdology}):void 0:void 0}})},i}(Backbone.View)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,s=function(e,t){function s(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};App.Views.RegScreens.Results=function(n){function i(){return this.handleSearch=t(this.handleSearch,this),e=i.__super__.constructor.apply(this,arguments)}return s(i,n),i.prototype.events={"click .search_again":"search_again","click .manual_reg":"manual_reg","click li.none":"not_me","click .pagination li > a":"searchResults","change #narrow_state select":"filterSearchByState"},i.prototype.initialize=function(e){return this.parent=e.parent,this.parent.collection.bind("reset",this.handleSearch)},i.prototype.render=function(){var e,t=this;return this.$el.html(JST["templates/registrations/d5_web_reg/results"]({length:this.collection.length,firstname:this.parent.firstname,lastname:this.parent.lastname})),e=this.$(".noneTop"),this.collection.each(function(n,s){return t.$(".noneBottom").before(new App.Views.D5WebResult({parent:t.parent,model:n}).render().el),s>=7?e.show():e.hide()}),this.showPagination(),this.parent.transitionView("list"),this},i.prototype.showPagination=function(){var e;return e=this.collection.length,this.collection.paginatable&&e>1?$("<ul class='pagination'>").paginate({numPages:this.collection.total_pages,startPage:this.collection.page,url:"#",lblPrevious:"← Previous",lblNext:"Next →"}).appendTo(".pagination_container"):void 0
},i.prototype.searchResults=function(e){var t,n,s,i;return e.preventDefault(),t=$(e.currentTarget),s=t.hasClass("prev_page")?this.getPreviousPage(parseInt($(".pagination .currentPage").html())):t.hasClass("next_page")?this.getNextPage(parseInt($(".pagination .currentPage").html()),this.collection.total_pages):parseInt($(e.currentTarget).html()),n={firstname:this.parent.firstname,lastname:this.parent.lastname,page:s},""!==(i=$("#narrow_state select").val())&&(n.state=i),this.collection.fetch({data:n})},i.prototype.handleSearch=function(){return null!=this.collection.searched_state?$("#narrow_state select").val(this.collection.searched_state):void 0},i.prototype.filterSearchByState=function(e){var t;return e.preventDefault(),t=$(e.currentTarget),this.parent.searchResults(this.parent.firstname,this.parent.lastname,{state:t.val()})},i.prototype.getPreviousPage=function(e){var t;return t=e-1,t>0?t:null},i.prototype.getNextPage=function(e,t){var n;return n=e+1,t>=n?n:null},i.prototype.search_again=function(e){return this.parent.landing(e)},i.prototype.manual_reg=function(e){return this.parent.showUserForm(e)},i.prototype.not_me=function(e){return App.Reg.alertNotMe(e)},i}(Backbone.View)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,s=function(e,t){function s(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};App.Views.RegScreens.User=function(n){function i(){return this.showPhoto=t(this.showPhoto,this),e=i.__super__.constructor.apply(this,arguments)}return s(i,n),i.render_template=JST["templates/registrations/d5_web_reg/user"],i.prototype.events={"click #photo_section":"showPhoto","click [data-sel-isthiscorrect] a":"edit","click .next":"next","click .notMe":"notMe","click [data-reject-suggested-photo]":"rejectPhoto"},i.prototype.initialize=function(e){return this.parent=e.parent,this.user=this.parent.user,this.template=e.template},i.prototype.render=function(){return this.template?this.$el.html(this.template({user:this.user,inviterName:this.parent.inviterName,docNewsArticleTitle:this.parent.docNewsArticleTitle})):this.$el.html(this.constructor.render_template({user:this.user,inviterName:this.parent.inviterName})),this.parent.transitionView("user"),this},i.prototype.rejectPhoto=function(e){return null!=e&&e.preventDefault(),confirm("We apologize for the wrong photo. Press OK to remove our suggestion and continue with registration.")?($("[data-accept-suggested-photo]").val(!1),this.$("#yourphoto img").attr("src",this.$("[data-default-photo-url]").data("defaultPhotoUrl")),this.$(e.target).hide(),"undefined"!=typeof mixpanel&&null!==mixpanel?"function"==typeof mixpanel.track?mixpanel.track("Wrong Photo",{user_id:this.user.id}):void 0:void 0):!1},i.prototype.edit=function(e){return window.App.Data.confMode?(e.preventDefault(),this.parent.showUserForm(this.user)):void 0},i.prototype.notMe=function(e){return e.preventDefault(),this.parent.user=null,this.parent.showUserForm()},i.prototype.showPhoto=function(e){var t;return null!=e&&e.preventDefault(),t=new Profile.Views.PhotosEdit({model:this.user,template:JST["templates/registrations/d5_web_reg/photos_edit"],photo_container:"#profile-photo"}),t.show()},i.prototype.next=function(e){return e.preventDefault(),App.Data.confMode&&!this.user.get("manual")?this.updateUserInfo():this.parent.showDobZip()},i.prototype.updateUserInfo=function(){return App.Data.confMode&&!this.user.get("manual")?(App.Reg.doximityQuestions.set({user_id:this.user.get("id")}),App.Reg.wait_for_questions=[],App.Reg.wait_for_questions.push($.ajax({url:"/api/v1/registration_validations/doximity_questions",type:"post",data:{id:this.user.get("id")},complete:function(){},success:function(e){return App.Reg.doximityQuestions.set(App.Reg.doximityQuestions.parse(e))}})),App.Reg.getChallengeQuestions()):void 0},i}(Backbone.View)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,s=function(e,t){function s(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e},i=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};App.Views.RegScreens.UserForm=function(n){function a(){return this.specialtyReq=t(this.specialtyReq,this),e=a.__super__.constructor.apply(this,arguments)}return s(a,n),a.prototype.events={"subspecialties_retrieved #specialty select":"subspecialtiesRetrieved"},a.prototype.initialize=function(e){return this.parent=e.parent,this.user=this.parent.user,this.manual_reg=e.manual_reg,this.occupation=new App.Occupation},a.prototype.render=function(){return this.$el.html(JST["templates/registrations/d5_web_reg/user_form"]({user:this.user,firstname:this.parent.firstname,lastname:this.parent.lastname,manual_reg:this.manual_reg})),this.occupation.setup("#user_credentials",!1,this.user.get("subspecialties")),this.$("#user_credentials").bind("change",this.specialtyReq),this.user.get("credentials")&&this.$("#user_credentials").trigger("change"),this.user.get("specialty_id")&&this.$("#specialty select").val(this.user.get("specialty_id")).trigger("change"),this.noFormSubmitOnEnter(),this.specialtyReq(),this.parent.transitionView("userForm"),this},a.prototype.subspecialtiesRetrieved=function(){var e=this;return this.$("#subspecialty a").trigger("click"),this.user.get("subspecialties").length>0&&(_.each(this.user.get("subspecialties"),function(t){return e.$("#subspecialty select").val(t.id).trigger("change")}),this.$("#subspecialty select").val("")),this.specialtyReq()},a.prototype.noFormSubmitOnEnter=function(){return this.$el.parent().keypress(function(e){return $(e.currentTarget).find("input:last")[0]===e.srcElement&&13===e.keyCode?!0:13===e.keyCode?!1:void 0})},a.prototype.specialtyReq=function(){return"7"===$("#user_credentials").val()?(this.$(".userForm #specialty label > em > sup").remove(),this.$(".userForm #subspecialty label > em > sup").remove()):(this.$(".userForm #specialty label > em").prepend("<sup> *</sup>"),this.$(".userForm #subspecialty label > em").prepend("<sup> *</sup>"))},a.prototype.handleUserForm=function(){var e=this;return this.parent.updated_user_info=!0,this.user.unbind("google_address"),this.user.bind("google_address",function(){return e.user.get("city")||e.user.get("state_postalName")||""!==$.trim($("#user_user_practice_contact_attributes_zip").val())?e.updateUser():(e.parent.showError([{reason:"Please enter a valid zip code.",fieldID:"user_user_practice_contact_attributes_zip",fieldName:"ZIP CODE"}]),!1)}),this.updateAddress()},a.prototype.updateUser=function(){var e,t=this;return e=[],""===$.trim($("#user_user_practice_contact_attributes_zip").val())&&e.push({reason:"Please enter a valid zip code.",fieldID:"user_user_practice_contact_attributes_zip",fieldName:"ZIP CODE"}),""===$.trim($("#user_user_practice_contact_attributes_addr1").val())&&e.push({reason:"Please enter a valid address.",fieldID:"user_user_practice_contact_attributes_addr1",fieldName:"ADDRESS"}),this.defaultErrors(e),e.length>0?(this.parent.showError(e),!1):(_gaq.push(["_trackEvent","Registration","A3_updatedInfo",this.user.get("id")]),this.user.isNew()?(this.unbind("user_created"),this.bind("user_created",function(e){return t.user.set({id:e,manual:!0}),t.updateOfficeAddress(),t.parent.showDobZip()}),this.createNewUser()):(this.updateOfficeAddress(),this.parent.npiRequiresData?(this.npiRequiresData=!1,this.parent.showDobZip()):this.parent.showUser()))},a.prototype.createNewUser=function(){var e=this;return $.ajax({type:"post",url:"/api/v1/registration_validations/users",data:App.Reg.getFormData($(".featuremain > form")),dataType:"json",success:function(t){return e.trigger("user_created",t.user_id)},error:function(t){var n;return null!=(null!=t?t.responseText:void 0)&&(n=_.map(JSON.parse(t.responseText).errors,function(e){return{reason:e}}),e.parent.showError(n)),!1}})},a.prototype.updateOfficeAddress=function(){var e,t,n,s,i,a,r,o,l,u,p,c,d,h,_,m,g,f;if(m=$("#user_user_practice_contact_attributes_zip").val(),e=$("#user_user_practice_contact_attributes_addr1").val(),t=$("#user_user_practice_contact_attributes_addr2").val(),l=$("#user_user_practice_contact_attributes_phone").val(),u=$("#user_user_practice_contact_attributes_phone_ext").val(),s=$("#user_user_practice_contact_attributes_fax").val(),h=[],n=$("#user_credentials").val(),"7"!==n)for(c=$("select[name*='user[user_professional_detail_attributes][specialty_id]']").val(),p=this.$("option[value*='"+c+"']").text(),_=$("input[name='subspecialties[]']"),g=0,f=_.length;f>g;g++)d=_[g],h.push({id:$(d).val(),name:$(d).prev("a").text(),code:$(d).val()});return this.user.set({addr1:e,addr2:t,full_name:this.user.setupFullName(this.user.get("firstname"),this.user.get("lastname"),this.user.getCredentialName(parseInt(n)),this.user.isMDDO()),zip:m,phone:l,phone_ext:u,fax:s,credentials:n,specialty:p,specialty_id:c,subspecialties:h,description:$("#user_title_practice").val()}),this.user.get("manual")&&(i=$("#user_firstname").val(),r=$("#user_lastname").val(),o=$("#user_gender_male").attr("checked"),a=o?"M":"F",this.user.set({firstname:i,lastname:r,gender:a,full_name:this.user.setupFullName(i,r,this.user.getCredentialName(parseInt(n)),this.user.isMDDO()),description:$("#user_title_practice").val()})),$.ajax({type:"put",url:"/api/v1/registration_validations/users/"+this.user.get("id"),data:App.Reg.getFormData($(".featuremain > form"),!0),dataType:"json"})},a.prototype.updateAddress=function(){var e,t;return t=$("#user_user_practice_contact_attributes_zip").val(),e=this,(new google.maps.Geocoder).geocode({address:t},function(n,s){var a,r,o,l;if(s===google.maps.GeocoderStatus.OK)for(l=n[0].address_components,r=0,o=l.length;o>r;r++)a=l[r],i.call(a.types,"locality")>=0?e.user.set({city:a.long_name}):i.call(a.types,"administrative_area_level_1")>=0&&e.user.set({state_postalName:a.short_name});else if(!e.user.isNew())return e.parent.showError([{reason:"Please enter a valid zip code.",fieldID:"user_user_practice_contact_attributes_zip",fieldName:"ZIP CODE"}]),!1;return e.user.set({zip:t,addr1:$("#user_user_practice_contact_attributes_addr1").val(),addr2:$("#user_user_practice_contact_attributes_addr2").val()}),e.user.trigger("google_address")})},a.prototype.defaultErrors=function(e){var t,n,s,i,a,r,o,l,u;return l=$("#user_user_practice_contact_attributes_phone").val(),o=$.trim(l.replace(/[^0-9]/g,"")),s=$("#user_user_practice_contact_attributes_fax").val(),n=$.trim(s.replace(/[^0-9]/g,"")),i=$.trim($("#user_firstname").val()),a=$.trim($("#user_lastname").val()),u=$.trim($("#user_title_practice").val()),i.length>32&&e.push({reason:"must be less than 32 characters.",fieldID:"user_firstname",fieldName:"FIRST NAME"}),a.length>40&&e.push({reason:"must be less than 40 characters.",fieldID:"user_lastname",fieldName:"LAST NAME"}),u.length>100&&e.push({reason:"Your current title/practice must be 100 characters or less.",fieldID:"user_title_practice",fieldName:"CURRENT TITLE/PRACTICE"}),(""!==o&&o.length<10||""===o&&$.trim(l).length>0)&&e.push({reason:"Please enter a valid phone number with area code.",fieldID:"user_user_practice_contact_attributes_phone",fieldName:"PHONE"}),(""!==n&&n.length<10||""===n&&$.trim(s).length>0)&&e.push({reason:"Please enter a valid fax number with area code.",fieldID:"user_user_practice_contact_attributes_fax",fieldName:"FAX"}),this.user.isMedicalStudent()||""!==$("#specialty select").val()||e.push({reason:"Please enter a specialty.",fieldID:"spec",fieldName:"SPECIALTY"}),""===$.trim($("#user_credentials").val())&&e.push({reason:"Please enter an occupation.",fieldID:"user_credentials",fieldName:"OCCUPATION"}),!this.user.isNew()&&!this.user.get("manual")||(""===$.trim($("#user_firstname").val())&&e.push({reason:"Please enter a first name.",fieldID:"user_firstname",fieldName:"FIRST NAME"}),""===$.trim($("#user_lastname").val())&&e.push({reason:"Please enter a last name.",fieldID:"user_lastname",fieldName:"LAST NAME"}),r=$("#user_gender_male").attr("checked"),t=$("#user_gender_female").attr("checked"),""!==r&&r||""!==t&&t)?void 0:e.push({reason:"Please enter your gender.",fieldID:"user_gender",fieldName:"GENDER"})},a}(Backbone.View)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,s=function(e,t){function s(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};App.Views.D5WebRegistration=function(n){function i(){return this.createAccount=t(this.createAccount,this),this.showAccountCreation=t(this.showAccountCreation,this),this.showMedSchoolGradYear=t(this.showMedSchoolGradYear,this),this.showQuestions=t(this.showQuestions,this),this.showDobZip=t(this.showDobZip,this),this.showUserForm=t(this.showUserForm,this),this.showUser=t(this.showUser,this),this.handleResults=t(this.handleResults,this),this.searchResults=t(this.searchResults,this),this.landing=t(this.landing,this),e=i.__super__.constructor.apply(this,arguments)}return s(i,n),i.prototype.el=".featuremain",i.prototype.events={"submit form":"createAccount"},i.prototype.initialize=function(){return this.collection=new App.Collections.Users,this.collection.bind("reset",this.handleResults),this.bind("this_is_me",this.selectUser),this.campaign="Registration",this.updated_user_info=!1,this.screens=[],this.firstname=this.lastname="",this.errors_collection=new App.Collections.RegErrors,this.errors_view=new App.Views.RegErrors({collection:this.errors_collection}),this.setCID(),"undefined"!=typeof mixpanel&&null!==mixpanel?mixpanel.register({source:"Web",campaign:this.setCampaign(),email_id:this.setEmailId()}):void 0},i.prototype.landing=function(e){return null!=e&&e.preventDefault(),this.screens.landing=new App.Views.RegScreens.Landing({parent:this,el:".landing"}).render()},i.prototype.searchResults=function(e,t,n){var s;return s=null!=n?_.extend({firstname:e,lastname:t},n):{firstname:e,lastname:t},this.collection.fetch({data:s}),"undefined"!=typeof mixpanel&&null!==mixpanel?"function"==typeof mixpanel.track?mixpanel.track("Searched For Their Profile",{first_name:e,last_name:t}):void 0:void 0},i.prototype.handleResults=function(){return this.user&&(this.user.reset(),this.user=null),1===this.collection.length?(this.user=this.collection.at(0),this.showUser(this.user.id)):this.showResults()},i.prototype.showResults=function(){return this.screens.results=new App.Views.RegScreens.Results({collection:this.collection,parent:this,el:".list"}).render()},i.prototype.showPagination=function(){return this.screens.results.showPagination()},i.prototype.showUser=function(e){var t,n=this;return null==e&&(e=null),null!=e?(this.user=new App.Models.User({id:e}),this.user.fetch({beforeSend:function(){return $(".loading p").empty().closest(".loading").show()},complete:function(){return $(".loading").hide()},success:function(){var e,t;return"undefined"!=typeof mixpanel&&null!==mixpanel&&mixpanel.register({user_id:n.user.get("id")}),n.docNewsArticleId?(n.screens.user=new App.Views.RegScreens.User({parent:n,el:".user",template:JST["templates/registrations/d5_web_reg/user_author_notification"]}).render(),$(".progmeter").hide(),"undefined"!=typeof mixpanel&&null!==mixpanel?"function"==typeof mixpanel.track?mixpanel.track("Show Is This You View"):void 0:void 0):n.hasRequiredInfo(n.user)?(window.IS_US_NEWS?t=JST["templates/registrations/us_news_landing"]:(e=App.Reg.selectSplitTestBucket(n.user,"Suggested Photo"),t=e?JST["templates/registrations/d5_web_reg/user_split_test"]:JST["templates/registrations/d5_web_reg/user"]),n.screens.user=new App.Views.RegScreens.User({parent:n,el:".user",template:t}).render(),"undefined"!=typeof mixpanel&&null!==mixpanel?"function"==typeof mixpanel.track?mixpanel.track("Show Is This You View"):void 0:void 0):(n.npiRequiresData=!0,n.showUserForm(null,!0))},error:function(e,t){return 422===t.status?n.selectUser():void 0}})):!this.user||(null!=(t=this.user)?t.isNew():void 0)?(App.Reg.registration_router.navigate("landing",{trigger:!0}),void 0):this.screens.user=new App.Views.RegScreens.User({parent:this,el:".user"}).render()},i.prototype.hasRequiredInfo=function(e){var t;return 5===(null!=(t=e.get("zip"))?t.length:void 0)&&"None"!==e.credentials&&null!=e.get("addr1")&&""!==e.get("addr1")?!0:!1},i.prototype.showUserForm=function(e,t){var n;return null==t&&(t=!1),"list"!==this.state||t||(this.user=null),"User"===(null!=e?null!=(n=e.constructor)?n.name:void 0:void 0)||this.user||(this.user=e=new App.Models.User,this.user.isManual=!0),window.specialty_code=this.user.get("specialty_id")||null,"list"===this.state&&!t&&!this.user.isNew()&&this.user.get("credentials")&&this.user.get("specialty_id")?this.showUser():(this.screens.user_form=new App.Views.RegScreens.UserForm({parent:this,el:".userForm",manual_reg:!1}),this.screens.user_form.render(),this.eventName=this.user.isManual?"Show Manual Reg Form":"Show Update Info Form","undefined"!=typeof mixpanel&&null!==mixpanel?"function"==typeof mixpanel.track?mixpanel.track(this.eventName,{campaign:this.campaign,source:"Web"}):void 0:void 0)},i.prototype.showDobZip=function(e){return null!=e&&e.preventDefault(),this.user?(this.screens.dob_zip=new App.Views.RegScreens.DobZip({parent:this,el:".dobZip"}).render(),"undefined"!=typeof mixpanel&&null!==mixpanel?"function"==typeof mixpanel.track?mixpanel.track("Show DOB/Zip View"):void 0:void 0):(App.Reg.registration_router.navigate("landing",{trigger:!0}),void 0)},i.prototype.showQuestions=function(e){return null!=e&&e.preventDefault(),this.user?(this.screens.questions=new App.Views.RegScreens.Questions({parent:this,el:".questions"}).render(),"undefined"!=typeof mixpanel&&null!==mixpanel?"function"==typeof mixpanel.track?mixpanel.track("Show Questions View"):void 0:void 0):(App.Reg.registration_router.navigate("landing",{trigger:!0}),void 0)},i.prototype.showMedSchoolGradYear=function(e){return null!=e&&e.preventDefault(),this.user?(this.screens.med_school_grad_year=new App.Views.RegScreens.MedSchoolGradYear({parent:this,el:".medSchoolGradYear"}).render(),"undefined"!=typeof mixpanel&&null!==mixpanel?"function"==typeof mixpanel.track?mixpanel.track("Show MedSchool/GradYear View"):void 0:void 0):(App.Reg.registration_router.navigate("landing",{trigger:!0}),void 0)},i.prototype.showAccountCreation=function(e){return null!=e&&e.preventDefault(),this.screens.account_creation=new App.Views.RegScreens.AccountCreation({parent:this,el:".accountCreation"}).render(),"undefined"!=typeof mixpanel&&null!==mixpanel?"function"==typeof mixpanel.track?mixpanel.track("Show Email & Pwd Form"):void 0:void 0},i.prototype.done=function(){var e=this;return $("body").append(JST["templates/registrations/mobile/bing_tracking"]()),$.ajax({type:"post",url:this.$("form").attr("action"),data:App.Reg.getFormData(this.$("form")),beforeSend:function(){return $(".loading p").empty().closest(".loading").show()},complete:function(){},success:function(t){return window.location.href=e.docNewsArticleId?"/doc_news?a=entries/"+e.docNewsArticleId:e.user.get("manual")&&e.user.isOHCP()&&!e.user.isPhysicianAssistant()?"/profile":t.ftue_location}})},i.prototype.createAccount=function(e){return null!=e&&e.preventDefault(),"landing"===this.state?this.screens.landing.joinNow():"userForm"===this.state?this.screens.user_form.handleUserForm():"accountCreation"===this.state?this.screens.account_creation.handleAccountCreation():"dobZip"===this.state?this.screens.dob_zip.updateUserInfo():"questions"===this.state?(log("User has questions."),this.screens.questions.verifyQuestions()):"medSchoolGradYear"===this.state?this.screens.med_school_grad_year.handleMedSchoolGradYear():void 0},i.prototype.showError=function(e){return this.errors_collection.reset(e),this.$(".panel.active").prepend(this.errors_view.el)},i.prototype.selectUser=function(e,t){return e&&""!==e?"dobZip"!==this.state?(this.user=this.collection.get(e),this.showUser(e),"undefined"!=typeof mixpanel&&null!==mixpanel?"function"==typeof mixpanel.track?mixpanel.track("Selected NPI User",{user_id:this.user.get("id")}):void 0:void 0):void 0:(this.dialogAlready=this.dialogAlready||new App.Dialog({title:"Account Exists",html:JST["templates/registrations/d5_web_reg/alert_exists"]({reg_source:t})}),this.dialogAlready.open())},i.prototype.transitionView=function(e,t){var n;return null==t&&(t=null),this.state=e,n=this.$("."+e),this.$(".panel").removeClass("active"),this.$(".panel .validation_error").remove(),n.addClass("active"),$("body").scrollTop(0),App.Reg.registration_router.navigate(e),_.include(["user","userForm"],this.state)?($(".progmeter").show(),$(".progmeter li").removeClass("here"),$(".progmeter li.create_prog").addClass("here")):_.include(["dobZip","questions","medSchoolGradYear"],this.state)?($(".progmeter").show(),$(".progmeter li").removeClass("here"),$(".progmeter li.verify_prog").addClass("here")):$(".progmeter").hide()},i.prototype.setCID=function(){var e;return(e=window.location.href.match(/CID=(\d{1,3})/i))?this.c_id=e[1]:void 0},i.prototype.setCampaign=function(){var e,t;return t=window.location.origin+"/",this.campaign=null!=App.Data.confMode?"Conference":document.referrer===t||document.referrer===t+"index1"?"Homepage":(e=document.URL.match(/CID=(\d{3})/i))?e[1]:document.referrer.indexOf("/pub/")>=0?"Public Profiles":document.referrer.indexOf("/cv/")>=0?"CVs":document.referrer.indexOf("/docfax")>=0?"DocFax":document.referrer?"Registration":"Direct",this.campaign},i.prototype.setEmailId=function(){var e;return e=document.URL.match(/eid=(\d{3})/i),this.eid=e?e[1]:null},i.prototype.validateZip=function(e){return""===e?(this.showError([{reason:"Please enter your home zip.",fieldID:"user_home_zip",fieldName:"ZIP CODE"}]),!1):!0},i.prototype.validateBirthday=function(e,t,n){return""===e&&""===t&&""===n?(this.showError([{reason:"Please make sure you enter your date of birth.",fieldID:"user_birthday_1i",fieldName:"DATE OF BIRTH"}]),!1):""===e?(this.showError([{reason:"Please make sure you enter your month of birth.",fieldID:"user_birthday_2i",fieldName:"DATE OF BIRTH"}]),!1):""===t?(this.showError([{reason:"Please make sure you enter the day you were born.",fieldID:"user_birthday_1i",fieldName:"DATE OF BIRTH"}]),!1):4!==n.length?(this.showError([{reason:"Please make sure you enter a valid year of birth (4 digits).",fieldID:"user_birthday_3i",fieldName:"YEAR OF BIRTH"}]),!1):!0},i.prototype.validateMedSchoolGradYear=function(e,t){return""===e?(this.showError([{reason:"Please select your medical school.",fieldID:"school",fieldName:"MEDICAL SCHOOL"}]),!1):""===t?(log("Please select your graduation year."),this.showError([{reason:"Please select your graduation year.",fieldID:"user_user_education_attributes_graduationyear",fieldName:"GRADUATION YEAR"}]),!1):!0},i}(Backbone.View)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,s=function(e,t){function s(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e},i=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};Profile.Views.PhotosEdit=function(n){function a(){return this.update=t(this.update,this),e=a.__super__.constructor.apply(this,arguments)}return s(a,n),a.prototype.template=JST["templates/users/photos/edit"],a.prototype.className="user_photos_edit",a.prototype.events={"submit form":"save","click a.removeConfirm":"destroy","click .photolist a img":"select","click a.crop":"crop","fileuploadadd input[name=file]":"fileUploadAdd","fileuploaddone input[name=file]":"fileUploadDone","fileuploadfail input[name=file]":"fileUploadFail"},a.prototype.crop=function(e){return null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),this.$("#pic img,#pic label,a.crop").hide(),this.$("#pic img").attr("src",this.model.get("original_image_url")),this.$(".piece_of_crop").show(),this.$("#pic img").Jcrop({aspectRatio:1,boxWidth:400,boxHeight:400,setSelect:[0,0,this.$("#pic img").height(),this.$("#pic img").height()],onSelect:this.update,onChange:this.update})},a.prototype.update=function(e){return this.$("input[name=crop_x]").val(e.x),this.$("input[name=crop_y]").val(e.y),this.$("input[name=crop_w]").val(e.w),this.$("input[name=crop_h]").val(e.h),this.updatePreview(e)},a.prototype.updatePreview=function(e){return this.$("#preview").css({width:Math.round(100/e.w*this.$("#pic img").width())+"px",height:Math.round(100/e.h*this.$("#pic img").height())+"px",marginLeft:"-"+Math.round(100/e.w*e.x)+"px",marginTop:"-"+Math.round(100/e.h*e.y)+"px"})},a.prototype.initialize=function(e){return null!=e.template&&(this.template=e.template),null!=e.photo_container&&(this.photo_container=e.photo_container),this.dialog=new App.Dialog({width:600,maxHeight:500,scroll:!0,title:"Your Profile Photo",attach:this}),this.model.getPhotoSuggestions({limit:5},_.bind(this.searchComplete,this)),this.render()},a.prototype.searchComplete=function(e){var t,n,s,i,a,r,o,l,u;if(e.any()){for(n=this.$("#photos ul"),n.html(""),l=e.models,u=[],r=0,o=l.length;o>r;r++)a=l[r],s=document.createElement("li"),t=document.createElement("a"),i=document.createElement("img"),i.src=a.get("thumbnail"),i.alt=a.get("title"),s.appendChild(t),t.appendChild(i),u.push(n.append(s));return u}},a.prototype.select=function(e){return null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),this.$el.off("click",".photolist a img"),this.$("input[name=file]").fileupload("option","formData").file=$(e.target).attr("src"),this.$("input[name=file]").fileupload("add",{files:[$(e.target).attr("src")]}),delete this.$("input[name=file]").fileupload("option","formData").file},a.prototype.destroy=function(e){var t=this;return null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),$.ajax("/users/"+this.model.get("id")+"/user_basics/destroy_photo/",{type:"delete",dataType:"json",data:{send_removal_notification:this.sendRemovalNotification()},beforeSend:function(){return t.$("form input[type=submit]").addClass("loading")},complete:function(){return t.$("form input[type=submit]").removeClass("loading")},success:function(e){return t.model.trigger("remove"),t.model.set({profile_photo_file:e.profile_photo_file,image_url:e.image_url,original_image_url:e.original_image_url}),$(t.photo_container).attr("src",e.image_url),t.dialog.close()}})},a.prototype.save=function(e){var t=this;return e.preventDefault(),$.ajax("/accounts/upload_photo/",{type:"post",dataType:"json",data:{id:this.model.id,crop_x:this.$("input[name=crop_x]").val(),crop_y:this.$("input[name=crop_y]").val(),crop_w:this.$("input[name=crop_w]").val(),crop_h:this.$("input[name=crop_h]").val(),user:{profile_photo:this.profile_photo}},beforeSend:function(){return t.$("form input[type=submit]").addClass("loading")},complete:function(){return t.$("form input[type=submit]").removeClass("loading")},success:function(e){return t.model.set({profile_photo_file:e.profile_photo_file,image_url:e.image_url,original_image_url:e.original_image_url}),$(t.photo_container).attr("src",e.image_url),t.trigger("muchSuccess"),t.dialog.close()}})},a.prototype.show=function(){return this.dialog.open()},a.prototype.render=function(){return this.$el.html(this.template({model:this.model})),this.$("input[name=file]").fileupload({maxFileSize:5e7,dataType:"json",headers:{"X-Requested-With":"XMLHttpRequest"}}),this},a.prototype.fileUploadAdd=function(){return this.$("form input[type=submit]").addClass("loading"),this.$("form input[type=submit]").prop("disabled",!0)},a.prototype.fileUploadDone=function(e,t){var n,s;return this.$("form input[type=submit]").removeClass("loading"),t.result.error?alert("Something went wrong. Please refresh and try again."):(n=$(e.currentTarget).data("file-accept-format"),_.isString(n)&&(n=n.split(",")),s=t.result.format,i.call(n,s)<0?(this.$("form input[type=submit]").prop("disabled",!1),alert("Please make sure to use either a .jpg, .gif, or .png file.")):(this.profile_photo=t.result,this.$("form").submit()))},a.prototype.fileUploadFail=function(){return this.$("form input[type=submit]").removeClass("loading"),this.$("form input[type=submit]").prop("disabled",!1),alert("Please make sure to use an image file or refresh and try again.")},a.prototype.sendRemovalNotification=function(){return this.model.isAdmin()&&confirm("Send removal notification to user?")},a}(Backbone.View)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,s=function(e,t){function s(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};App.Views.RegError=function(n){function i(){return this.removeRow=t(this.removeRow,this),e=i.__super__.constructor.apply(this,arguments)}return s(i,n),i.prototype.tagName="li",i.prototype.initialize=function(){return $(this.el).bind("click")},i.prototype.render=function(){var e;return $(this.el).html(JST["templates/registrations/d5_web_reg/reg_error"]({model:this.model})),e=$("#"+this.model.get("fieldID")).closest("label").length>0?$("#"+this.model.get("fieldID")).closest("label"):$("#"+this.model.get("fieldID")).closest(".label"),e.unbind("click").bind("click",function(e){return $(e.currentTarget).removeClass("error")}),this},i.prototype.removeRow=function(){var e;return e=$("#"+this.model.get("fieldID")).closest("label").length>0?$("#"+this.model.get("fieldID")).closest("label"):$("#"+this.model.get("fieldID")).closest(".label"),e.removeClass("error"),this.collection.remove(this.model)},i}(Backbone.View)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,s=function(e,t){function s(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};App.Views.RegErrors=function(n){function i(){return this.render=t(this.render,this),e=i.__super__.constructor.apply(this,arguments)}return s(i,n),i.prototype.className="validation_error",i.prototype.initialize=function(){return this.collection.bind("remove reset add",this.render)},i.prototype.render=function(){var e=this;return this.collection.length>0?($(this.el).html(JST["templates/registrations/d5_web_reg/reg_errors"]),$("label.error").removeClass("error"),this.collection.each(function(t){var n;return e.$("ul").append(new App.Views.RegError({model:t,collection:e.collection}).render().el),t.get("fieldID")?(n=$("#"+t.get("fieldID")).closest("label").length>0?$("#"+t.get("fieldID")).closest("label"):$("#"+t.get("fieldID")).closest(".label"),n.addClass("error")):void 0}),$("body").scrollTop(0)):this.remove(),this},i}(Backbone.View)}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function s(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return s.prototype=n.prototype,e.prototype=new s,e.__super__=n.prototype,e};window.Views||(window.Views={}),"undefined"!=typeof Zepto&&null!==Zepto&&(window.jQuery=Zepto),$(function(){return $("[data-password-form]").length>0?new Views.PasswordValidator:void 0}),Views.PasswordValidator=function(t){function s(){return e=s.__super__.constructor.apply(this,arguments)}return n(s,t),s.prototype.el="[data-password-form]",s.prototype.events={"keyup [data-password]":"validatePassword","blur [data-password]":"passowrdInstruction","keyup [data-confirmation]":"validateConfirmation","blur [data-confirmation]":"validateConfirmation"},s.prototype.initialize=function(){return this.complexity=0,this.weakComplexity=22,this.moderateComplexity=40,this.bad_password=!1,this.passwords_dont_match=!1},s.prototype.enableSubmit=function(e){return null==e&&(e=!1),this.complexity>this.weakComplexity&&e===!0?($("[data-submit-button]").prop("disabled",!1),this.trigger("after:submit_enabled")):void 0},s.prototype.passowrdInstruction=function(){return this.complexity<this.weakComplexity?this.$("[data-password-instruction]").text("Consider adding a number, upper case letter and/or more characters."):this.$("[data-password-instruction]").text("")},s.prototype.validatePassword=function(e){var t,n=this;return t=$(e.currentTarget),t.complexify({},function(e,t){var s;return n.complexity=t,s=n.$("[data-password-requirement]"),t<n.weakComplexity?(s.find("[data-password-text]").text("Weak - not secure"),s.addClass("weak").removeClass("moderate").removeClass("hipaa_strong"),n.bad_password=!0):e===!0&&t>n.weakComplexity&&t<n.moderateComplexity?(s.find("[data-password-text]").text("OK - moderately secure"),s.addClass("moderate").removeClass("weak").removeClass("hipaa_strong"),n.enableSubmit(),n.bad_password=!1):e===!0&&t>n.moderateComplexity?(s.find("[data-password-text]").text("Great! That's a strong password.").removeClass("weak"),s.addClass("hipaa_strong").removeClass("weak").removeClass("moderate"),n.enableSubmit(),n.bad_password=!1):void 0
}),this.validateConfirmation()},s.prototype.validateConfirmation=function(){var e,t;return e=$("[data-confirmation]"),t=this.$("[data-confirmation-requirement]"),e.val()===this.$("[data-password]").val()&&this.complexity<this.weakComplexity?(this.passwords_dont_match=!1,this.bad_password=!0,t.text("Confirmation matches password"),t.removeClass("red").addClass("grn")):e.val()===this.$("[data-password]").val()&&this.complexity>this.weakComplexity?(t.text("Confirmation matches password"),t.removeClass("red").addClass("grn"),this.passwords_dont_match=!1,this.bad_password=!1,this.enableSubmit(!0)):(t.text("Confirmation must match password"),this.passwords_dont_match=!0)},s}(Backbone.View)}.call(this),function(e){e.extend(e.fn,{complexify:function(t,n){function s(e,t){for(var n=e.length-1;n>=0;n--)if(t[0]<=e.charCodeAt(n)&&e.charCodeAt(n)<=t[1])return t[1]-t[0]+1;return 0}function i(n){if("strict"===t.banmode){for(var s=0;s<t.bannedPasswords.length;s++)if(-1!==t.bannedPasswords[s].indexOf(n))return!0;return!1}return e.inArray(n,t.bannedPasswords)>-1?!0:!1}function a(){var a=e(this).val(),u=0,p=!1;if(i(a))u=1;else for(var c=l.length-1;c>=0;c--)u+=s(a,l[c]);u=Math.log(Math.pow(u,a.length))*(1/t.strengthScaleFactor),p=u>r&&a.length>=t.minimumChars,u=100*(u/o),u=u>100?100:u,n.call(this,p,u)}var r=20,o=120,l=[[48,57],[65,90],[97,122],[33,47],[58,64],[91,96],[123,126],[128,255],[256,383],[384,591],[592,687],[688,767],[768,879],[880,1023],[1024,1279],[1328,1423],[1424,1535],[1536,1791],[1792,1871],[1920,1983],[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3456,3583],[3584,3711],[3712,3839],[3840,4095],[4096,4255],[4256,4351],[4352,4607],[4608,4991],[5024,5119],[5120,5759],[5760,5791],[5792,5887],[6016,6143],[6144,6319],[7680,7935],[7936,8191],[8192,8303],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703],[8704,8959],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[10240,10495],[11904,12031],[12032,12255],[12272,12287],[12288,12351],[12352,12447],[12448,12543],[12544,12591],[12592,12687],[12688,12703],[12704,12735],[12800,13055],[13056,13311],[13312,19893],[19968,40959],[40960,42127],[42128,42191],[44032,55203],[55296,56191],[56192,56319],[56320,57343],[57344,63743],[63744,64255],[64256,64335],[64336,65023],[65056,65071],[65072,65103],[65104,65135],[65136,65278],[65279,65279],[65280,65519],[65520,65533]],u={minimumChars:8,strengthScaleFactor:1,bannedPasswords:window.COMPLEXIFY_BANLIST||[],banmode:"strict",evaluateOnInit:!0};return e.isFunction(t)&&!n&&(n=t,t={}),t=e.extend(u,t),t.evaluateOnInit&&this.each(function(){a.apply(this)}),this.each(function(){e(this).bind("keyup focus",a)})}})}(jQuery),function(){var e,t=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=$,$(document).ready(function(){return $.ajaxSettings.beforeSend=function(){return $(".loading").show()},$.ajaxSettings.complete=function(){return $(".loading").hide()}}),App.Reg.init=function(){return window.registration=this.registration=new App.Views.D5WebRegistration,this.registration_router=new App.Routers.D5WebRegRouter({view:this.registration}),Backbone.history.start({root:"/registrations"}),this.idologyQuestions=new App.Models.IdologyQuestions,this.doximityQuestions=new App.Models.DoximityQuestions},App.Reg.alertNotMe=function(e){var t=this;return null!=e&&e.preventDefault(),this.dialog=this.dialog||new App.Dialog({title:"Can't find yourself?",html:(this.dialogView=new App.Views.D5WebAlertNotMe).render().el}),this.dialogView.unbind("search_again"),this.dialogView.bind("search_again",function(){return t.dialog.close(),t.registration.landing()}),this.dialogView.unbind("manual_reg"),this.dialogView.bind("manual_reg",function(){return t.dialog.close(),t.registration.showUserForm()}),this.dialog.open()},App.Reg.getChallengeQuestions=function(){var e=this;return $.when.apply($,this.wait_for_questions).always(function(){return $(".loading").hide(),e.registration.user.get("school")||e.registration.user.get("manual")||!e.registration.user.isMDDOMedStudent()&&!e.registration.user.isPhysicianAssistant()?e.doximityQuestions.hasChallengeQuestions()||e.idologyQuestions.hasChallengeQuestions()?e.registration.showQuestions():e.registration.showAccountCreation():e.registration.showMedSchoolGradYear()})},App.Reg.selectSplitTestBucket=function(e,t){var n;return e.splitTest?e.splitTest.indexOf("Test Group")===!1:(n=!1,e.get("has_suggested_photo")?(n=!0,e.splitTest=""+t+" - Test Group"):e.splitTest=""+t+" - Control Group","undefined"!=typeof mixpanel&&null!==mixpanel&&mixpanel.register({reg_split_test:e.splitTest}),n)},App.Reg.getFormData=function(e,n){var s,i,a,r,o,l,u,p,c,d,h,m,g,f;if(null==n&&(n=!1),r=["user[firstname]","user[lastname]","user[description]","user[credentials]","user[user_professional_detail_attributes][specialty_id]","subspecialties[]","user[birthday(2i)]","user[birthday(1i)]","user[birthday(3i)]"],i=["id","account[login]","account[password]","account[password_confirmation]","use_suggested_photo"],s=["user[firstname]","user[lastname]","user[description]","user[credentials]","user[gender]","user[user_professional_detail_attributes][specialty_id]","subspecialties[]","user[user_practice_contact_attributes][addr1]","user[user_practice_contact_attributes][addr2]","user[user_practice_contact_attributes][zip]","user[user_practice_contact_attributes][city][name]","user[user_practice_contact_attributes][city][postalName]","user[user_practice_contact_attributes][phone]","user[user_practice_contact_attributes][phone_ext]","user[user_practice_contact_attributes][fax]"],a={},a["user[user_professional_detail_attributes][subspecialties]"]=[],this.registration.user.isNew()||this.registration.user.get("manual")||n){for(this.registration.user.get("manual")&&(s.push("account[login]"),s.push("account[password]"),s.push("account[password_confirmation]"),a["user[manually_registered]"]=!0),d=e.serializeArray(),l=0,p=d.length;p>l;l++)o=d[l],h=o.name,t.call(s,h)>=0&&("subspecialties[]"===o.name&&""!==o.value?a["user[user_professional_detail_attributes][subspecialties]"].push(o.value):a[o.name]=o.value);"7"===a["user[credentials]"]&&(a["user[user_professional_detail_attributes][subspecialties]"].push("MS01"),a["user[user_professional_detail_attributes][specialty_id]"]="MS00"),a["user[user_practice_contact_attributes][phone]"]=_.phoneNumber(a["user[user_practice_contact_attributes][phone]"]),a["user[user_practice_contact_attributes][fax]"]=_.phoneNumber(a["user[user_practice_contact_attributes][fax]"]),a.id=this.registration.user.get("id")}else for(m=e.serializeArray(),u=0,c=m.length;c>u;u++)o=m[u],this.registration.updated_user_info?(g=o.name,t.call(r,g)<0&&(a[o.name]=o.value)):(f=o.name,t.call(i,f)>=0&&(a[o.name]=o.value));return this.registration.updated_user_info&&(a["user[user_practice_contact_attributes][city][name]"]=this.registration.user.get("city"),a["user[user_practice_contact_attributes][city][postalName]"]=this.registration.user.get("state_postalName")),n&&(delete a["user[firstname]"],delete a["user[lastname]"]),""===a["user[user_practice_contact_attributes][phone]"]&&delete a["user[user_practice_contact_attributes][phone]"],""===a["user[user_practice_contact_attributes][fax]"]&&delete a["user[user_practice_contact_attributes][fax]"],a.uuid="undefined"!=typeof mixpanel&&null!==mixpanel?"function"==typeof mixpanel.get_property?mixpanel.get_property("distinct_id"):void 0:void 0,a.cid="undefined"!=typeof mixpanel&&null!==mixpanel?"function"==typeof mixpanel.get_property?mixpanel.get_property("cid"):void 0:void 0,a}}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};App.Occupation=function(){function t(){this.$=window.jQuery||window.Zepto}return t.prototype.setup=function(e,t,n){var s;return null==e&&(e="#occupation"),null==t&&(t=!0),null==n&&(n=[]),s=this,t?(window.Zepto?this.$(e).html(JST["templates/mobile/occupation"]()):this.$(e).html(JST["templates/registrations/occupation"]()),this.$(""+e+" .occupation_select").bind("click",function(){return s.specialty(parseInt(this.value),n)}),this.$(".occupation_select:checked").click()):(this.$(e).bind("change",function(){return s.specialty(parseInt(this.value),n)}),this.$(e).trigger("change"))},t.prototype.renderSpecialtiesControl=function(e,t){var n;if(null==t&&(t=[]),window.Zepto?(this.$("#specialty, #subspecialty").hide(),this.$("label[for=user_specialty], label[for=user_subspecialty]").hide()):this.$("#specialty, #subspecialty").show(),6===e)n=_.clone(window.ot_specialties),window.Zepto?(this.$("#specialty").show(),this.$("label[for=user_specialty]").show()):"Other HC profn'l"===$.trim($("#user_credentials option:selected").html())&&n.splice(9,0,{name:"Recruiter",code:"recruiter"});else{if(7===e)return window.Zepto?(this.$("#specialty").hide(),this.$("label[for=user_specialty]").hide()):this.$("#specialty, #subspecialty").hide(),void 0;window.Zepto&&!_.isNaN(e)&&(this.$("#specialty").show(),this.$("label[for=user_specialty]").show()),n=window.md_specialties}return window.Zepto?this.$("#specialty").html(JST["templates/mobile/specialties"]({specialties:n})):this.$("#specialty").html(JST["templates/registrations/d5_web_reg/specialties"]({specialties:n}))},t.prototype.handleSpecialtySelection=function(e){var t;return t=this,function(){var n,s,i,a,r;return window.Zepto||""===this.value||"recruiter"!==this.value?(window.Zepto&&""!==this.value&&($("#subspecialty").show(),$("label[for=user_subspecialty]").show(),t.mobile_subspecialty([],[])),window.Zepto||t.subspecialty([],[]),r=n=t.$(this).val(),r?""===r?(t.$("#specialty > select").addClass("placeholder"),window.Zepto?t.mobile_subspecialty([],""):t.subspecialty([],""),void 0):(t.$("#specialty > select").removeClass("placeholder"),t.$.get("/specialties/"+r+"/subspecialties.json",function(n){var s,i,a;return"MD00"===r?window.Zepto?t.mobile_subspecialty(n,[]):t.subspecialty(n,[]):(i=[],"HP00"!==r&&(a=r.slice(0,3)+"1"),s=_(n).find(function(e){return e.id===a}),e.length>0?i=e:s&&(i=[s]),window.Zepto?t.mobile_subspecialty(n,i):t.subspecialty(n,i)),window.Zepto?$("#specialty select").trigger("subspecialties_retrieved"):void 0})):(t.$("#specialty > select").addClass("placeholder"),window.Zepto?t.mobile_subspecialty([],""):t.subspecialty([],""))):(s=$("#user_firstname").val(),i=$("#user_lastname").val(),a=$("#user_user_practice_contact_attributes_phone").val(),window.location.href="/talent_finder/free/new?first_name="+s+"&last_name="+i+"&phone="+a,void 0)}},t.prototype.selectDefaultSpecialty=function(){var e=this;return this.specialtyDropdown().val(function(){return"NP"===e.selectedCredentials()?"NP00":"PA"===e.selectedCredentials()?"PA00":window.specialty_code})},t.prototype.specialtyDropdown=function(){return this.$('select[name="user[user_professional_detail_attributes][specialty_id]"]')},t.prototype.selectedCredentials=function(){var e;return window.Zepto?(e="",this.$("#user_credentials option").each(function(){return $(this).attr("selected")===!0?e=$(this).text():void 0}),e.trim()):this.$.trim(this.$("#user_credentials option:selected").text())},t.prototype.specialty=function(e,t){return null==t&&(t=[]),this.renderSpecialtiesControl(e,t),this.specialtyDropdown().unbind("change").bind("change",this.handleSpecialtySelection(t)),this.selectDefaultSpecialty(e),this.specialtyDropdown().trigger("change")},t.prototype.mobile_subspecialty=function(e,t){var n;return this.$("#subspecialty").html(JST["templates/mobile/subspecialties"]({selected_subspecialties:t,remaining_subspecialties:_.without.apply(_,[e].concat(t))})),n=this,this.$("#subspecialty select").unbind("change").bind("change",function(){var s,i;return s=this,i=_.detect(e,function(e){return e.id===n.$(s).val()}),i&&t.push(i),n.mobile_subspecialty(e,t)}),this.$("#subspecialty a").unbind("click").bind("click",function(s){var i,a;return s.preventDefault(),i=this.id.split("_")[1],a=_.detect(e,function(e){return i===e.id}),a&&(t=_.without(t,a)),n.mobile_subspecialty(e,t)})},t.prototype.subspecialty=function(t,n,s){var i,a,r,o,l,u;return null==s&&(s=!1),"undefined"!=typeof t&&"undefined"!=typeof n&&t.length>0&&n.length>0?(l=_.pluck(n,"id"),r=_.reject(t,function(t){var n;return n=t.id,e.call(l,n)>=0})):r=_.without.apply(_,[t].concat(n)),this.$("#subspecialty").html(JST["templates/registrations/d5_web_reg/subspecialties"]({selected_subspecialties:n,remaining_subspecialties:r,subspecialties:t})),a=_.map(r,function(e){return{value:e.id,label:e.name}}),o=this,i=function(e){var s;return s=_.detect(t,function(t){return t.id===e}),s?n.push(s):_.detect(n,function(t){return t.name===e})||n.push({id:e,code:e,name:e}),o.subspecialty(t,n,!0)},u=this.$("#subspecialties_text_field"),this.$("#subspecialty a").unbind("click").bind("click",function(e){var s,i;return e.preventDefault(),s=this.id.split("_")[1],i=_.detect(n,function(e){return s===e.id}),i&&(n=_.without(n,i)),o.subspecialty(t,n)}),this.$("#subspecialty select").bind("change",function(){var e,s,i;return s=this,e=_.detect(n,function(e){return o.$(s).val()===e.id}),e?void 0:(i=_.detect(t,function(e){return e.id===o.$(s).val()}),i&&n.push(i),o.subspecialty(t,n))})},t.prototype.validate_birthday=function(){var e=this;return this.$("input#dob_3i").live("blur",function(){var t;return t=parseInt(e.$("input#dob_3i").val()),isNaN(t)||1900>t||t>(new Date).getFullYear()?e.$("#dob_3i_error").show():e.$("#dob_3i_error").hide()})},t}(),window.occupation=new App.Occupation}.call(this),function(){}.call(this);